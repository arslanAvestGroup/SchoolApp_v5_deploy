(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1crZ":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("fXoL"),r=i("ofXK"),s=i("tyNb"),a=i("sYmb");const o=function(t){return[t]};function c(t,e){if(1&t&&(n.Rb(0,"li",9),n.Rb(1,"a",10),n.Kc(2),n.dc(3,"translate"),n.Qb(),n.Qb()),2&t){const t=e.$implicit;n.zb(1),n.kc("routerLink",n.rc(4,o,t.url)),n.zb(1),n.Mc(" ",n.ec(3,2,t.label)," ")}}const l=["*"];let b=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["app-breadcrumbs"]],inputs:{breadcrumb:"breadcrumb",title:"title"},ngContentSelectors:l,decls:12,vars:4,consts:[["id","breadcrumbs-wrapper",1,"breadCrumbsDesk","grey","darken-1","white-text"],[1,"container","w100","no-padding"],[1,"row","margin","cmargin_l","cmargin_r"],[1,"col","s12","m6","l6","pl-0"],[1,"breadcrumbs-title","s0","mt-0","mb-0","lf-15"],[1,"breadcrumbs","mb-0","lf-1","mt-16x","mb-16x"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"col","s12","m6","l6","relative"],[1,"col","s12","vertical-align-center","width-100"],[1,"breadcrumb-item"],[1,"white-text",3,"routerLink"]],template:function(t,e){1&t&&(n.jc(),n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Rb(3,"div",3),n.Rb(4,"h5",4),n.Kc(5),n.dc(6,"translate"),n.Qb(),n.Rb(7,"ol",5),n.Ic(8,c,4,6,"li",6),n.Qb(),n.Qb(),n.Rb(9,"div",7),n.Rb(10,"div",8),n.ic(11),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(5),n.Lc(n.ec(6,2,e.title)),n.zb(3),n.kc("ngForOf",e.breadcrumb))},directives:[r.l,s.f],pipes:[a.c],styles:["@media only screen and (max-width:600px){.vertical-align-center[_ngcontent-%COMP%]{position:relative;top:inherit;transform:none}}@media only screen and (max-width:768px){.breadCrumbsDesk[_ngcontent-%COMP%]{display:none}}#breadcrumbs-wrapper[_ngcontent-%COMP%]{border-bottom:1px solid #c3c3c3}#breadcrumbs-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:10px}.breadCrumbsDesk[_ngcontent-%COMP%]{padding-top:33px}"]}),t})()},"9N29":function(t,e,i){"use strict";i.r(e),i.d(e,"UserModule",(function(){return Mi}));var n=i("FpXt"),r=i("OU9y"),s=i("fXoL"),a=i("H+bZ"),o=i("BbRA"),c=i("sYmb"),l=i("5eHb"),b=i("1crZ"),p=i("3Pt+"),h=i("lMUY");const d=["select_lang"];let u=(()=>{class t{constructor(t,e,i,n){this.apiService=t,this.bcService=e,this.translate=i,this.toastr=n,this.breadcrumb=[{label:"NAV_HOME",url:"/"},{label:"NAV_SETTINGS",url:"/settings"}]}ngOnInit(){const t=new r.a({url:"/settings",name:"NAV_SETTINGS"});this.bcService.resetPush(t),this.bcService.breadcrumbAsObservable.subscribe(t=>this.breadCrumbs=t),this.bcService.setTitle(this.translate.instant("NAV_SETTINGS")),this.userLang=this.apiService.getLang()}updateLang(){this.apiService.updateLang(this.select_lang.nativeElement.value).subscribe(t=>{"lang_updated"===t.status_code?(this.userLang=t.lang,this.apiService.changeLang(t.lang),this.toastr.show(this.translate.instant("SETTING_UPDATED"))):this.toastr.show("Error Updating Language")})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(a.a),s.Lb(o.a),s.Lb(c.d),s.Lb(l.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-settings"]],viewQuery:function(t,e){var i;1&t&&s.Pc(d,!0),2&t&&s.uc(i=s.Zb())&&(e.select_lang=i.first)},decls:22,vars:7,consts:[["title","NAV_SETTINGS",3,"breadcrumb"],[1,"pb-2"],[1,"row"],[1,"col","l8","m12","s12","offset-1","pl-2","pr-2","pt-2","pb-2"],[1,"form-group"],[1,"col","s9"],["for","lang",1,"active","selectBoxLabel"],[1,"selectBox"],["name","lang",1,"browser-default"],["select_lang",""],["value","en",3,"selected"],["value","th",3,"selected"],[1,"col","s3","right","right-align"],[1,"btn-floating","waves-effect","waves-light","cyan","mr-2","ml-2",3,"click"],[1,"material-icons"],[3,"menuType"]],template:function(t,e){1&t&&(s.Mb(0,"app-breadcrumbs",0),s.Mb(1,"div",1),s.Rb(2,"div",2),s.Rb(3,"div",3),s.Rb(4,"div",2),s.Rb(5,"div",4),s.Rb(6,"div",5),s.Rb(7,"label",6),s.Kc(8),s.dc(9,"translate"),s.Qb(),s.Rb(10,"div",7),s.Rb(11,"select",8,9),s.Rb(13,"option",10),s.Kc(14,"English"),s.Qb(),s.Rb(15,"option",11),s.Kc(16,"Thai"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(17,"div",12),s.Rb(18,"button",13),s.Yb("click",(function(){return e.updateLang()})),s.Rb(19,"i",14),s.Kc(20,"done"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Mb(21,"app-fabtabs",15)),2&t&&(s.kc("breadcrumb",e.breadcrumb),s.zb(8),s.Lc(s.ec(9,5,"SETTINGS_PREFERENCES_LANGUAGE")),s.zb(5),s.kc("selected","en"==e.userLang),s.zb(2),s.kc("selected","th"==e.userLang),s.zb(6),s.kc("menuType","general"))},directives:[b.a,p.m,p.q,h.a],pipes:[c.c],styles:[""]}),t})();var m=i("0IaG"),g=i("d3UM"),f=i("ofXK"),I=i("FKr1");function v(t,e){if(1&t&&(s.Rb(0,"mat-option",8),s.Kc(1),s.dc(2,"currency"),s.Qb()),2&t){const t=e.$implicit;s.kc("value",t.id),s.zb(1),s.Oc(" ",t.name," (",s.hc(2,4,t.price,"\u0e3f",!0,"1.0-0")," / ",t.metadata.price_duration,") ")}}let R=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){this.payplansExtendInfo=this.data.payplansExtendInfo,this.plan_id=this.data.plan_id,this.memberShipInfo=this.data.memberShipInfo}onNoClick(){this.dialogRef.close()}onSelectPlan(){this.dialogRef.close({plan_id:this.plan_id})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(m.e),s.Lb(m.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-chose-subscription-dialog-box"]],decls:16,vars:14,consts:[["mat-dialog-title","",1,"center","title"],["mat-dialog-content",""],[1,"center"],[1,"btn","blue","border-radius-4",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"center","mt-5"],[1,"btn","waves-effect","waves-light","grey","lighten-1","border-radius-5","ml-1","mr-1","mt-1","mb-1",3,"click"],[1,"btn","waves-effect","waves-light","blue","border-radius-5","ml-1","mr-1","mt-1","mb-1",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Rb(0,"h1",0),s.Kc(1),s.dc(2,"translate"),s.Qb(),s.Rb(3,"div",1),s.Rb(4,"p",2),s.Kc(5),s.dc(6,"translate"),s.Qb(),s.Rb(7,"mat-select",3),s.Yb("valueChange",(function(t){return e.plan_id=t})),s.Ic(8,v,3,9,"mat-option",4),s.Qb(),s.Qb(),s.Rb(9,"div",5),s.Rb(10,"button",6),s.Yb("click",(function(){return e.onNoClick()})),s.Kc(11),s.dc(12,"translate"),s.Qb(),s.Rb(13,"button",7),s.Yb("click",(function(){return e.onSelectPlan()})),s.Kc(14),s.dc(15,"translate"),s.Qb(),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,6,"CHOSE_SUBSCRIPTION")),s.zb(4),s.Mc("",s.ec(6,8,"CHOSE_SUBSCRIPTION_DESC"),"."),s.zb(2),s.kc("value",e.plan_id),s.zb(1),s.kc("ngForOf",e.payplansExtendInfo),s.zb(3),s.Lc(s.ec(12,10,"CANCEL")),s.zb(3),s.Lc(s.ec(15,12,"OK")))},directives:[m.f,m.c,g.a,f.l,I.g],pipes:[c.c,f.c],styles:[".title[_ngcontent-%COMP%]{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}[_ngcontent-%COMP%]:ng-deep   .mat-dialog-container[_ngcontent-%COMP%]{padding:1.25em}"]}),t})();var S=i("cxbk"),_=i("PSD3"),C=i.n(_),z=i("tyNb");class P{constructor(t){console.log(" Invoice constructor  ",t),this.id=t.id,this.model_id=t.model_id,this.model_type=t.model_type,this.status=t.status,this.total=t.total,this.updated_at=t.updated_at,this.created_at=new Date(t.created_at.replace(/-/g,"/")),this.paid_date=t.paid_date?new Date(t.paid_date.replace(/-/g,"/")):null,this.user_id=t.user_id,this.access_code=t.access_code,this.code=t.code,this.status_label=t.status_label,this.status_label_translate=t.status_label_translate,this.plan_name=t.plan_name,this.message=t.message,this.invoice_plan_name=t.invoice_plan_name}}var y=i("lJxs");let x=(()=>{class t{constructor(t){this.apiService=t}getUserSubscriptionInfo(){return this.apiService.getHttpClientGet("/userSubscriptionInfo")}getUserInvoicesInfo(){return this.apiService.getHttpClientGet("/userInvoicesInfo")}changePassword(t){return this.apiService.getHttpClientPost("/changePassword",t)}updateAccount(t){return this.apiService.getHttpClientPost("/updateAccount",t)}updateProfile(t){const e=new FormData;return e.append("name","test name"),e.append("avatar","avt"),e.append("avatar2","avt2"),e.append("email","email@gmai.com"),console.log(" updateProfile formData input ",e),console.log(" updateProfile formValues ",t),this.apiService.getHttpClientPost("/updateProfile",t)}updateProfile2(t,e){const i=new FormData;console.log(" updateProfile2 filesToUpload ",e);for(const n of Object.keys(t))i.append(n,t[n]);return e.forEach(t=>{console.log(" filesToUpload fileobj ",t),t.file&&i.append(t.name,t.file,null!=t.file?t.file.name:"")}),console.log(" updateProfile formData uploadData ",i),console.log(" updateProfile formValues ",t),this.apiService.getHttpClientPostCustom("/updateProfile",i,{})}uploadFile(t){console.log(" uploadFile  "),console.log(t);const e=new FormData;return e.append("profilePicture",t,t.name),this.apiService.getHttpClientPostCustom("/updateProfileImage",e,{filename:t.name})}getAllInvoices(){return this.apiService.getHttpClientGetApi("/myinvoices").pipe(Object(y.a)(t=>{if(console.log("------ user.service piping map data  ",t),null!==t.data&&t.data.length>0){console.log("------ user.service piping map rdata.data   ",t.data),console.log("------ user.service piping map rdata.data   ",t.data.length);let e=0;t.data.forEach(i=>{console.log("------ user.service piping map rdata.data foreach   ",i),t.data[e]=new P(i),e++}),console.log("------ user.service piping map rdata.data foreach after   ",t)}return t}))}resendVerificationEmail(t){return console.log(" resendVerificationEmail "),console.log(t),this.apiService.getHttpClientPost("/resendVerificationEmail",{email:t})}getMemberShipInfo(){return this.apiService.getHttpClientGet("/membershipinfo")}getAllPayplansExtendInfo(){return this.apiService.getHttpClientGet("/payplansExtendInfo")}extendSubscription(t){return this.apiService.getHttpClientPost("/extendSubscription",{selected_plan:t})}startTrial(t){return this.apiService.getHttpClientPost("/startTrial",{slug:t})}promotionSubscribe(t){return this.apiService.getHttpClientPost("/promotionSubscribe",{plan_id:t})}extendSubscriptionCancelOldInvoice(t){return this.apiService.getHttpClientPost("/extendSubscription",{selected_plan:t,cancel_pending:!0})}}return t.\u0275fac=function(e){return new(e||t)(s.Vb(a.a))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac}),t})();var M=i("tjHq"),w=i("8F+a");const Q=["selectedPlan"];function A(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"div",20),s.Mb(2,"app-preloader",10),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.kc("status",!t.memberShipInfo)}}function O(t,e){1&t&&(s.Rb(0,"p"),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"SUBSCRIPTION_NOT_ACTIVATED")))}function k(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",26),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",26),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_UNTIL")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.expires_on)}}function E(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",26),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",26),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_UNTIL")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.trial_end)}}function T(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",26),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",26),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_ON")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.expires_on)}}function L(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",26),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",26),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_ON")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.trial_end)}}function N(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",26),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",26),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_UNTIL")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.expires_on)}}function K(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",21),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"div",22),s.Rb(5,"i",23),s.Kc(6,"card_membership"),s.Qb(),s.Qb(),s.Rb(7,"div",24),s.Rb(8,"h5",25),s.Kc(9),s.dc(10,"titlecase"),s.Qb(),s.Ic(11,O,3,3,"p",8),s.Ic(12,k,7,4,"div",8),s.Ic(13,E,7,4,"div",8),s.Ic(14,T,7,4,"div",8),s.Ic(15,L,7,4,"div",8),s.Ic(16,N,7,4,"div",8),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.Nc("",s.ec(3,9,"SUBSCRIPTION_ID"),": ",null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.code,""),s.zb(7),s.Lc(s.ec(10,11,t.sTitle)),s.zb(2),s.kc("ngIf","new"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","active"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","expired"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial_expired"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","promotion"===(null==t.memberShipInfo?null:t.memberShipInfo.subType))}}function D(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",28),s.Yb("click",(function(){return s.yc(t),s.cc(2).startTrial()})),s.Kc(1),s.dc(2,"translate"),s.Qb()}2&t&&(s.zb(1),s.Lc(s.ec(2,1,"SUBSCRIPTION_ACTIVATE_NOW")))}function U(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",28),s.Yb("click",(function(){s.yc(t);const e=s.cc(2);return e.extend(null==e.memberShipInfo||null==e.memberShipInfo.subInfo?null:e.memberShipInfo.subInfo.plan_id)})),s.Kc(1),s.dc(2,"translate"),s.Qb()}2&t&&(s.zb(1),s.Lc(s.ec(2,1,"SUBSCRIPTION_EXTEND_NOW")))}function B(t,e){if(1&t&&(s.Rb(0,"div"),s.Ic(1,D,3,3,"button",27),s.Ic(2,U,3,3,"button",27),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("ngIf","new"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial"!==(null==t.memberShipInfo?null:t.memberShipInfo.subType)&&"new"!==(null==t.memberShipInfo?null:t.memberShipInfo.subType))}}function V(t,e){if(1&t&&(s.Rb(0,"div",29),s.Rb(1,"div",20),s.Mb(2,"app-preloader",10),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.kc("status",!t.payplansExtendInfo)}}function F(t,e){if(1&t&&(s.Rb(0,"p",26),s.Kc(1),s.Qb()),2&t){const t=s.cc().$implicit;s.zb(1),s.Lc(t.metadata.save)}}function H(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",30),s.Rb(1,"div",31),s.Yb("click",(function(){s.yc(t);const i=e.$implicit;return s.cc().extend(i.id)})),s.Rb(2,"div",7),s.Rb(3,"div",22),s.Rb(4,"i",23),s.Kc(5),s.Qb(),s.Rb(6,"p",21),s.Kc(7),s.Qb(),s.Qb(),s.Rb(8,"div",24),s.Rb(9,"h5",25),s.Kc(10),s.dc(11,"currency"),s.Qb(),s.Rb(12,"p",26),s.Mb(13,"span",32),s.dc(14,"planDuration"),s.Qb(),s.Ic(15,F,2,1,"p",33),s.Qb(),s.Qb(),s.Rb(16,"div",34),s.Rb(17,"button",35),s.Kc(18),s.dc(19,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&t){const t=e.$implicit;s.zb(1),s.Cb("cursor-pointer card gradient-shadow min-height-100 white-text animate fadeRight mb_16x mt-0 ",t.metadata.bg,""),s.zb(4),s.Lc(t.metadata.icon),s.zb(2),s.Lc(t.name),s.zb(3),s.Lc(s.hc(11,9,t.price,"\u0e3f",!0,"1.0-0")),s.zb(3),s.kc("innerHTML",s.ec(14,14,t.duration_data),s.zc),s.zb(2),s.kc("ngIf",t.metadata.save),s.zb(3),s.Lc(s.ec(19,16,"SUBSCRIPTION_PAY_NOW"))}}function Y(t,e){1&t&&(s.Rb(0,"div",11),s.Rb(1,"div",4),s.Rb(2,"p",5),s.Kc(3),s.dc(4,"translate"),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.zb(3),s.Lc(s.ec(4,1,"PROMOTIONS")))}function W(t,e){1&t&&(s.Rb(0,"div",3),s.Rb(1,"div",12),s.Rb(2,"p",16),s.Kc(3),s.dc(4,"translate"),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.zb(3),s.Lc(s.ec(4,1,"PROMOTION_INFO")))}function q(t,e){if(1&t&&(s.Rb(0,"div",29),s.Rb(1,"div",20),s.Mb(2,"app-preloader",10),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.kc("status",!t.promotion)}}function G(t,e){if(1&t&&(s.Rb(0,"p",26),s.Kc(1),s.Qb()),2&t){const t=s.cc().$implicit;s.zb(1),s.Lc(t.metadata.save)}}function X(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",30),s.Rb(1,"div",31),s.Yb("click",(function(){s.yc(t);const i=e.$implicit;return s.cc().promotionClick(i.id)})),s.Rb(2,"div",7),s.Rb(3,"div",22),s.Rb(4,"i",23),s.Kc(5),s.Qb(),s.Rb(6,"p",21),s.Kc(7),s.Qb(),s.Qb(),s.Rb(8,"div",24),s.Rb(9,"h5",25),s.Kc(10),s.dc(11,"currency"),s.Qb(),s.Rb(12,"p",26),s.Mb(13,"span",32),s.dc(14,"planDuration"),s.Qb(),s.Ic(15,G,2,1,"p",33),s.Qb(),s.Qb(),s.Rb(16,"div",34),s.Rb(17,"button",28),s.Yb("click",(function(){s.yc(t);const i=e.$implicit;return s.cc().promotionClick(i.id)})),s.Kc(18),s.dc(19,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&t){const t=e.$implicit;s.zb(1),s.Cb("cursor-pointer card gradient-shadow min-height-100 white-text animate fadeRight mb_16x mt-0 ",t.already_subscribed?"grey lighten-1":t.metadata.bg,""),s.zb(4),s.Lc(t.metadata.icon),s.zb(2),s.Lc(t.name),s.zb(3),s.Lc(s.hc(11,9,t.price,"\u0e3f",!0,"1.0-0")),s.zb(3),s.kc("innerHTML",s.ec(14,14,t.duration_data),s.zc),s.zb(2),s.kc("ngIf",t.metadata.save),s.zb(3),s.Lc(s.ec(19,16,"SUBSCRIPTION_PROMOTION_BTN"))}}let j=(()=>{class t{constructor(t,e,i,n,r,s,a){this.router=t,this.bcService=e,this.apiService=i,this.userService=n,this.translate=r,this.dialog=s,this.toastr=a,this.url=S.a.api.url,this.preloader=!1,this.cardClass="",this.sTitle="",this.breadcrumb=[{label:"NAV_HOME",url:"/"},{label:"NAV_SUBSCRIPTION",url:"/user/subscription"}],this._CHOSE_SUBSCRIPTION=this.translate.instant("CHOSE_SUBSCRIPTION"),this._OK=this.translate.instant("OK"),this._CANCEL=this.translate.instant("CANCEL")}ngOnInit(){const t=new r.a({url:"/user/subscription",name:"NAV_SUBSCRIPTION"});this.bcService.resetPush(t),this.bcService.breadcrumbAsObservable.subscribe(t=>this.breadCrumbs=t),this.bcService.setTitle(this.translate.instant("NAV_SUBSCRIPTION")),this.apiService.userProfileOb.subscribe(t=>{t&&"student"!==t.type?this.router.navigateByUrl("user/membership"):t&&"student"===t.type&&(this.getMemberShipInfo(),this.getAllPayplansExtendInfo())})}getAllPayplansExtendInfo(){this.userService.getAllPayplansExtendInfo().subscribe(t=>{this.payplansExtendInfo=t.payplans,this.promotion=t.promotion})}getMemberShipInfo(){this.userService.getMemberShipInfo().subscribe(t=>{this.apiService.setSubscriptionInfo(t),"success"===t.api_status&&(this.memberShipInfo=t,"new"===this.memberShipInfo.subType||"trial"===this.memberShipInfo.subType?(this.cardClass="grey lighten-1",this.sTitle=this.translate.instant("MEMBERSHIP_TRIAL")):"active"===this.memberShipInfo.subType?(this.cardClass="gradient-45deg-green-teal",this.sTitle=this.translate.instant("MEMBERSHIP_ACTIVE")):"expired"===this.memberShipInfo.subType||"trial_expired"===this.memberShipInfo.subType?(this.cardClass="gradient-45deg-red-pink",this.sTitle=this.translate.instant("MEMBERSHIP_EXPIRED")):"promotion"===this.memberShipInfo.subType&&(this.cardClass="grey lighten-1",this.sTitle=this.translate.instant("PROMOTION")))})}extend(t){this.dialog.open(R,{width:"32em",maxWidth:"98vw",maxHeight:"99vh",data:{plan_id:t,payplansExtendInfo:this.payplansExtendInfo,memberShipInfo:this.memberShipInfo}}).afterClosed().subscribe(t=>{console.log("The dialog was closed",t),t&&t.plan_id&&(console.log(" subscribe to plan  "),this.extendPlan(t.plan_id))})}extendPlan(t){this.userService.extendSubscription(t).subscribe(e=>{console.log(" extendSubscription resp  "),console.log(e),this.preloader=!1,"invoice_created"===e.status_code?(this.router.navigateByUrl("payinvoice/"+e.data.access_code),C.a.fire({title:this.translate.instant("INVOICE_CREATED"),text:this.translate.instant("INVOICE_CREATED_DESC"),icon:"success",confirmButtonText:this.translate.instant("PAY_NOW"),animation:!1,reverseButtons:!0}).then(t=>{console.log(" then ",t),t.value&&!0===t.value&&this.router.navigateByUrl("payinvoice/"+e.data.access_code)})):"same_pending_invoice_exist"===e.status_code?C.a.fire({title:"",text:this.translate.instant("ALREADY_PENDING_INVOICE"),icon:"warning",confirmButtonText:this.translate.instant("VIEW_INVOICE"),animation:!1,reverseButtons:!0}).then(t=>{console.log(" then ",t),t.value&&!0===t.value&&this.router.navigateByUrl("payinvoice/"+e.data.access_code)}):"pending_invoice_exist"===e.status_code&&C.a.fire({title:"Warning!",text:"Your already have a pending invoice, your pending invoice will be canceled",showCancelButton:!0,html:'<p>Your already have a pending invoice, your pending invoice will be canceled</p><a href="/payinvoice/'+e.data.access_code+'">View invoice</a> ',icon:"warning",confirmButtonText:"ok"}).then(e=>{console.log(" then ",e),e.value&&(this.preloader=!0,this.userService.extendSubscriptionCancelOldInvoice(t).subscribe(t=>{console.log(" extendSubscriptionCancelOldInvoice ",t),this.preloader=!1,"invoice_created"===t.status_code?C.a.fire({title:"Thank you!",text:"The invoice has been created. Please check it out",icon:"success",confirmButtonText:"View invoice"}).then(e=>{console.log(" then result2 ",e),e.value&&this.router.navigateByUrl("payinvoice/"+t.data.access_code)}):C.a.fire({title:"Error!",text:"Error Generating invoice. Please contact system administrator.",icon:"error",confirmButtonText:"Pay invoice"})}))})},t=>{this.preloader=!1,console.error(t),alert("Error Handling Request ")})}startTrial(t){C.a.fire({title:this.translate.instant("ACTIVATE_TRIAL_TITLE"),html:this.translate.instant("ACTIVATE_TRIAL_DESC"),icon:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("OK"),cancelButtonText:this.translate.instant("NO"),animation:!1,reverseButtons:!0}).then(e=>{e.value&&this.userService.startTrial(t).subscribe(t=>{if(this.memberShipInfo=t,"success"===t.api_status){const t=this.translate.instant("TRIAL_ACTIVATED_TOAST",{v1:this.memberShipInfo.subInfo.trial_end+". Enjoy!"});this.toastr.success(t)}},t=>console.log(t))})}ngOnDestroy(){}promotionClick(t){C.a.fire({title:this.translate.instant("PROMOTION_ACTIVATE_TITLE"),html:this.translate.instant("PROMOTNION_ACTIVATE_DESC"),icon:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("OK"),cancelButtonText:this.translate.instant("NO"),animation:!1,reverseButtons:!0}).then(e=>{e.value&&(console.log("  subscribe to promotion "),this.userService.promotionSubscribe(t).subscribe(t=>{"promotion_enable_success"===t.status_code&&(this.memberShipInfo=null,this.getMemberShipInfo(),this.getAllPayplansExtendInfo()),console.log(t);const e=this.translate.instant(t.message_type)+" : "+this.translate.instant(t.message);this.toastr.success(e)},t=>console.log(t)))})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(z.c),s.Lb(o.a),s.Lb(a.a),s.Lb(x),s.Lb(c.d),s.Lb(m.b),s.Lb(l.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-subscription"]],viewQuery:function(t,e){var i;1&t&&s.Pc(Q,!0),2&t&&s.uc(i=s.Zb())&&(e.selectedPlan=i.first)},decls:38,vars:24,consts:[["title","NAV_SUBSCRIPTION",3,"breadcrumb"],[1,"pt_32x"],[1,"container","w100","no-padding"],[1,"row","no-margin","cmargin_l","cmargin_r"],[1,"col","s12","p-0"],[1,"subscriptionTitle","no-margin"],[1,"col","s12","m6","l4","xl3","subscriptionCont","p-0"],[1,"padding-4","col","s12"],[4,"ngIf"],[1,"col","s2","mt-2"],[3,"status"],[1,"row","no-margin","cmargin_l","cmargin_r","pt_32x"],[1,"col","l5","p-0"],[1,"row","no-margin","cmargin_l","cmargin_r","pt_16x"],["class","col s12 m6 l4 xl3 p-0",4,"ngIf"],["class","col s12 m6 l4 xl3 p-0 ppExendCard",4,"ngFor","ngForOf"],[1,"mt_16x","mb_16x"],["class","row no-margin cmargin_l cmargin_r pt_32x",4,"ngIf"],["class","row no-margin cmargin_l cmargin_r ",4,"ngIf"],[3,"menuType"],[1,"preloaderCont"],[1,"margin"],[1,"col","s7","m7"],[1,"material-icons","background-round","mt-5"],[1,"col","s5","m5","right-align"],[1,"mb-0","white-text"],[1,"no-margin"],["class","btn waves-effect waves-light gradient-45deg-amber-amber border-radius-5 width-100",3,"click",4,"ngIf"],[1,"btn","waves-effect","waves-light","gradient-45deg-amber-amber","border-radius-5","width-100",3,"click"],[1,"col","s12","m6","l4","xl3","p-0"],[1,"col","s12","m6","l4","xl3","p-0","ppExendCard"],[3,"click"],[3,"innerHTML"],["class","no-margin",4,"ngIf"],[1,"col","s12","mt_16x","mb_16x"],[1,"btn","waves-effect","waves-light","gradient-45deg-amber-amber","border-radius-5","width-100"]],template:function(t,e){1&t&&(s.Mb(0,"app-breadcrumbs",0),s.Mb(1,"div",1),s.Rb(2,"div",2),s.Rb(3,"div",3),s.Rb(4,"div",4),s.Rb(5,"p",5),s.Kc(6),s.dc(7,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Rb(8,"div",3),s.Rb(9,"div",6),s.Rb(10,"div",4),s.Rb(11,"div"),s.Rb(12,"div",7),s.Ic(13,A,3,1,"div",8),s.Ic(14,K,17,13,"div",8),s.Qb(),s.Qb(),s.Qb(),s.Rb(15,"div",4),s.Ic(16,B,3,2,"div",8),s.Qb(),s.Qb(),s.Rb(17,"div",9),s.Mb(18,"app-preloader",10),s.Qb(),s.Qb(),s.Rb(19,"div",11),s.Rb(20,"div",12),s.Rb(21,"p",5),s.Kc(22),s.dc(23,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Rb(24,"div",13),s.Ic(25,V,3,1,"div",14),s.Ic(26,H,20,18,"div",15),s.Qb(),s.Rb(27,"div",11),s.Rb(28,"div",12),s.Rb(29,"p",16),s.Kc(30),s.dc(31,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Ic(32,Y,5,3,"div",17),s.Ic(33,W,5,3,"div",18),s.Rb(34,"div",13),s.Ic(35,q,3,1,"div",14),s.Ic(36,X,20,18,"div",15),s.Qb(),s.Qb(),s.Mb(37,"app-fabtabs",19)),2&t&&(s.kc("breadcrumb",e.breadcrumb),s.zb(6),s.Lc(s.ec(7,18,"SUBSCRIPTION_CURRENT")),s.zb(5),s.Cb("card gradient-shadow min-height-100 white-text animate fadeRight mt_16x mb_16x ",e.cardClass,""),s.zb(2),s.kc("ngIf",!e.memberShipInfo),s.zb(1),s.kc("ngIf",e.memberShipInfo),s.zb(2),s.kc("ngIf",e.memberShipInfo),s.zb(2),s.kc("status",e.preloader),s.zb(4),s.Lc(s.ec(23,20,"SUBSCRIPTION_PLANS")),s.zb(3),s.kc("ngIf",!e.payplansExtendInfo),s.zb(1),s.kc("ngForOf",e.payplansExtendInfo),s.zb(4),s.Lc(s.ec(31,22,"SUBSCRIPTION_PLANS_OPTIONS_INFO")),s.zb(2),s.kc("ngIf",e.promotion&&e.promotion.length>0),s.zb(1),s.kc("ngIf",e.promotion&&e.promotion.length>0),s.zb(2),s.kc("ngIf",!e.promotion),s.zb(1),s.kc("ngForOf",e.promotion),s.zb(1),s.kc("menuType","general"))},directives:[b.a,f.m,M.a,f.l,h.a],pipes:[c.c,f.u,f.c,w.a],styles:["@media only screen and (min-width:601px){.ppExendCard[_ngcontent-%COMP%]{margin-right:16px}}"]}),t})();var Z=i("MO+k"),J=i("OwO1"),tt=i("v0zv"),et=i("jhN1");const it=["wrapper"],nt=["sourceImage"];function rt(t,e){if(1&t){const t=s.Sb();s.Rb(0,"img",4,5),s.Yb("load",(function(){return s.yc(t),s.cc().imageLoadedInView()})),s.Qb()}if(2&t){const t=s.cc();s.Fc("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),s.kc("src",t.safeImgDataUrl,s.Bc)}}function st(t,e){if(1&t){const t=s.Sb();s.Pb(0),s.Rb(1,"span",9),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"topleft")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"topleft")})),s.Mb(2,"span",10),s.Qb(),s.Rb(3,"span",11),s.Mb(4,"span",10),s.Qb(),s.Rb(5,"span",12),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"topright")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"topright")})),s.Mb(6,"span",10),s.Qb(),s.Rb(7,"span",13),s.Mb(8,"span",10),s.Qb(),s.Rb(9,"span",14),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")})),s.Mb(10,"span",10),s.Qb(),s.Rb(11,"span",15),s.Mb(12,"span",10),s.Qb(),s.Rb(13,"span",16),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")})),s.Mb(14,"span",10),s.Qb(),s.Rb(15,"span",17),s.Mb(16,"span",10),s.Qb(),s.Rb(17,"span",18),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"top")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"top")})),s.Qb(),s.Rb(18,"span",19),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"right")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"right")})),s.Qb(),s.Rb(19,"span",20),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"bottom")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"bottom")})),s.Qb(),s.Rb(20,"span",21),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"left")}))("touchstart",(function(e){s.yc(t);const i=s.cc(2);return i.startMove(e,i.moveTypes.Resize,"left")})),s.Qb(),s.Ob()}}function at(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",6),s.Yb("keydown",(function(e){return s.yc(t),s.cc().keyboardAccess(e)})),s.Rb(1,"div",7),s.Yb("mousedown",(function(e){s.yc(t);const i=s.cc();return i.startMove(e,i.moveTypes.Move)}))("touchstart",(function(e){s.yc(t);const i=s.cc();return i.startMove(e,i.moveTypes.Move)})),s.Qb(),s.Ic(2,st,21,0,"ng-container",8),s.Qb()}if(2&t){const t=s.cc();s.Fc("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),s.Db("rounded",t.roundCropper),s.zb(2),s.kc("ngIf",!t.hideResizeSquares)}}const ot={Move:"move",Resize:"resize",Pinch:"pinch"};let ct=(()=>{class t{constructor(t,e){this.sanitizer=t,this.cd=e,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.setImageMaxSizeRetries=0,this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.exifTransform={rotate:0,flip:!1},this.autoRotateSupported=new Promise(t=>{const e=new Image;e.onload=()=>{t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="}),this.stepSize=3,this.marginLeft="0px",this.imageVisible=!1,this.moveTypes=ot,this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage="center",this.disabled=!1,this.imageCropped=new s.n,this.startCropImage=new s.n,this.imageLoaded=new s.n,this.cropperReady=new s.n,this.loadImageFailed=new s.n,this.initCropper()}ngOnChanges(t){this.cropperStaticHeight&&this.cropperStaticWidth&&(this.hideResizeSquares=!0,this.cropperMinWidth=this.cropperStaticWidth,this.cropperMinHeight=this.cropperStaticHeight,this.maintainAspectRatio=!1),this.onChangesInputImage(t),this.originalImage&&this.originalImage.complete&&this.exifTransform&&(t.containWithinAspectRatio||t.canvasRotation)&&this.transformOriginalImage(),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.initCropper(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.stepSize=this.initialStepSize,this.activatePinchGesture()}initCropper(){this.imageVisible=!1,this.transformedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.originalSize={width:0,height:0},this.transformedSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImage(t,e){this.isValidImageType(e)?this.loadBase64Image(t):this.loadImageFailed.emit()}loadImageFile(t){const e=new FileReader;e.onload=e=>this.loadImage(e.target.result,t.type),e.readAsDataURL(t)}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}loadBase64Image(t){this.autoRotateSupported.then(e=>this.checkExifAndLoadBase64Image(t,e)).then(()=>this.transformOriginalImage()).catch(t=>{this.loadImageFailed.emit(),this.originalImage=null,this.originalBase64=null,console.error(t)})}checkExifAndLoadBase64Image(t,e){return new Promise((i,n)=>{this.originalImage=new Image,this.originalImage.onload=()=>{this.originalBase64=t,this.exifTransform=function(t){switch("string"==typeof t&&(t=function(t){const e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");const e=atob(t),i=e.length,n=new Uint8Array(i);for(let r=0;r<i;r++)n[r]=e.charCodeAt(r);return n.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;const i=e.byteLength;let n=2;for(;n<i;){if(e.getUint16(n+2,!1)<=8)return-1;const t=e.getUint16(n,!1);if(n+=2,65505==t){if(1165519206!=e.getUint32(n+=2,!1))return-1;const t=18761==e.getUint16(n+=6,!1);n+=e.getUint32(n+4,t);const i=e.getUint16(n,t);n+=2;for(let r=0;r<i;r++)if(274==e.getUint16(n+12*r,t))return e.getUint16(n+12*r+8,t)}else{if(65280!=(65280&t))break;n+=e.getUint16(n,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(e?-1:t),this.originalSize.width=this.originalImage.naturalWidth,this.originalSize.height=this.originalImage.naturalHeight,i()},this.originalImage.onerror=n,this.originalImage.src=t})}loadImageFromURL(t){const e=new Image;e.onerror=()=>this.loadImageFailed.emit(),e.onload=()=>{const t=document.createElement("canvas"),i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0),this.loadBase64Image(t.toDataURL())},e.crossOrigin="anonymous",e.src=t}transformOriginalImage(){if(!this.originalImage||!this.originalImage.complete||!this.exifTransform)return Promise.reject(new Error("No image loaded"));const t=this.transformImageBase64();return this.setTransformedImage(t)}transformImageBase64(){const t=this.canvasRotation+this.exifTransform.rotate;if(0===t&&!this.exifTransform.flip&&!this.containWithinAspectRatio)return this.originalBase64;const e=this.getTransformedSize(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;const n=i.getContext("2d");return n.setTransform(this.exifTransform.flip?-1:1,0,0,1,i.width/2,i.height/2),n.rotate(Math.PI*(t/2)),n.drawImage(this.originalImage,-this.originalSize.width/2,-this.originalSize.height/2),i.toDataURL()}getTransformedSize(){const t=this.canvasRotation+this.exifTransform.rotate;if(this.containWithinAspectRatio){if(t%2){const t=this.originalSize.height/this.aspectRatio;return{width:Math.max(this.originalSize.height,this.originalSize.width*this.aspectRatio),height:Math.max(this.originalSize.width,t)}}{const t=this.originalSize.width/this.aspectRatio;return{width:Math.max(this.originalSize.width,this.originalSize.height*this.aspectRatio),height:Math.max(this.originalSize.height,t)}}}return t%2?{height:this.originalSize.width,width:this.originalSize.height}:{width:this.originalSize.width,height:this.originalSize.height}}setTransformedImage(t){return new Promise(e=>{this.transformedBase64=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t),this.transformedImage=new Image,this.transformedImage.onload=()=>{this.transformedSize.width=this.transformedImage.naturalWidth,this.transformedSize.height=this.transformedImage.naturalHeight,this.cd.markForCheck(),e()},this.transformedImage.src=this.transformedBase64})}imageLoadedInView(){null!=this.transformedImage&&(this.imageLoaded.emit(),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}onResize(){this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize()}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(s.V)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){const t=this.sourceImage.nativeElement;if(this.cropperStaticHeight&&this.cropperStaticWidth)this.cropper.x1=0,this.cropper.x2=t.offsetWidth>this.cropperStaticWidth?this.cropperStaticWidth:t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight>this.cropperStaticHeight?this.cropperStaticHeight:t.offsetHeight;else if(this.maintainAspectRatio)if(t.offsetWidth/this.aspectRatio<t.offsetHeight){this.cropper.x1=0,this.cropper.x2=t.offsetWidth;const e=t.offsetWidth/this.aspectRatio;this.cropper.y1=(t.offsetHeight-e)/2,this.cropper.y2=this.cropper.y1+e}else{this.cropper.y1=0,this.cropper.y2=t.offsetHeight;const e=t.offsetHeight*this.aspectRatio;this.cropper.x1=(t.offsetWidth-e)/2,this.cropper.x2=this.cropper.x1+e}else this.cropper.x1=0,this.cropper.x2=t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight;this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){t.key>="1"&&t.key<="9"&&(this.stepSize=+t.key)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const e=t.shiftKey?ot.Resize:ot.Move,i=t.altKey?this.getInvertedPositionForKey(t.key):this.getPositionForKey(t.key),n=this.getEventForKey(t.key,this.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(n),this.moveStop()}getPositionForKey(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}getInvertedPositionForKey(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}getEventForKey(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}startMove(t,e,i=null){this.moveStart&&this.moveStart.active&&this.moveStart.type===ot.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:i,clientX:this.getClientX(t),clientY:this.getClientY(t)},this.cropper))}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:ot.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===ot.Move?(this.move(t),this.checkCropperPosition(!0)):this.moveStart.type===ot.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===ot.Pinch&&(this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.transformedImage?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.transformedImage.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.transformedImage.height*this.maxSize.height):20}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}move(t){const e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;this.cropper.x1=this.moveStart.x1+e,this.cropper.y1=this.moveStart.y1+i,this.cropper.x2=this.moveStart.x2+e,this.cropper.y2=this.moveStart.y2+i}resize(t){const e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;switch(this.moveStart.position){case"left":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth);break;case"topleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"top":this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"topright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"right":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth);break;case"bottomright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottom":this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottomleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"center":const n=t.scale,r=Math.abs(this.moveStart.x2-this.moveStart.x1)*n,s=Math.abs(this.moveStart.y2-this.moveStart.y1)*n,a=this.cropper.x1,o=this.cropper.y1;this.cropper.x1=Math.min(this.moveStart.clientX-r/2,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.clientY-s/2,this.cropper.y2-this.cropperScaledMinHeight),this.cropper.x2=Math.max(this.moveStart.clientX+r/2,a+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.clientY+s/2,o+this.cropperScaledMinHeight)}this.maintainAspectRatio&&this.checkAspectRatio()}checkAspectRatio(){let t=0,e=0;switch(this.moveStart.position){case"top":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"bottom":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topleft":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topright":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"right":case"bottomright":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"left":case"bottomleft":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"center":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio;const i=Math.max(0-this.cropper.x1,0),n=Math.max(this.cropper.x2-this.maxSize.width,0),r=Math.max(this.cropper.y2-this.maxSize.height,0),s=Math.max(0-this.cropper.y1,0);(i>0||n>0||r>0||s>0)&&(this.cropper.x1+=r*this.aspectRatio>i?r*this.aspectRatio:i,this.cropper.x2-=s*this.aspectRatio>n?s*this.aspectRatio:n,this.cropper.y1+=s*this.aspectRatio>n?s:n/this.aspectRatio,this.cropper.y2-=r*this.aspectRatio>i?r:i/this.aspectRatio)}}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.transformedImage){this.startCropImage.emit();const t=this.getImagePosition(),e=t.x2-t.x1,i=t.y2-t.y1,n=document.createElement("canvas");n.width=e,n.height=i;const r=n.getContext("2d");if(r){null!=this.backgroundColor&&(r.fillStyle=this.backgroundColor,r.fillRect(0,0,e,i));const s=(this.transform.scale||1)*(this.transform.flipH?-1:1),a=(this.transform.scale||1)*(this.transform.flipV?-1:1);r.setTransform(s,0,0,a,this.transformedSize.width/2,this.transformedSize.height/2),r.translate(-t.x1/s,-t.y1/a),r.rotate((this.transform.rotate||0)*Math.PI/180),r.drawImage(this.transformedImage,-this.transformedSize.width/2,-this.transformedSize.height/2);const o={width:e,height:i,imagePosition:t,cropperPosition:Object.assign({},this.cropper)};this.containWithinAspectRatio&&(o.offsetImagePosition=this.getOffsetImagePosition());const c=this.getResizeRatio(e,i);return 1!==c&&(o.width=Math.round(e*c),o.height=this.maintainAspectRatio?Math.round(o.width/this.aspectRatio):Math.round(i*c),function(t,e,i){const n=t.width,r=t.height,s=n/(e=Math.round(e)),a=r/(i=Math.round(i)),o=Math.ceil(s/2),c=Math.ceil(a/2),l=t.getContext("2d");if(l){const b=l.getImageData(0,0,n,r),p=l.createImageData(e,i),h=b.data,d=p.data;for(let t=0;t<i;t++)for(let i=0;i<e;i++){const l=4*(i+t*e),b=t*a;let p=0,u=0,m=0,g=0,f=0,I=0,v=0;const R=Math.floor(i*s),S=Math.floor(t*a);let _=Math.ceil((i+1)*s),C=Math.ceil((t+1)*a);_=Math.min(_,n),C=Math.min(C,r);for(let t=S;t<C;t++){const e=Math.abs(b-t)/c,r=i*s,a=e*e;for(let i=R;i<_;i++){const e=Math.abs(r-i)/o,s=Math.sqrt(a+e*e);if(s>=1)continue;p=2*s*s*s-3*s*s+1;const c=4*(i+t*n);v+=p*h[c+3],m+=p,h[c+3]<255&&(p=p*h[c+3]/250),g+=p*h[c],f+=p*h[c+1],I+=p*h[c+2],u+=p}}d[l]=g/u,d[l+1]=f/u,d[l+2]=I/u,d[l+3]=v/m}t.width=e,t.height=i,l.putImageData(p,0,0)}}(n,o.width,o.height)),o.base64=this.cropToBase64(n),this.imageCropped.emit(o),o}}return null}getImagePosition(){const t=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth,e={x1:Math.round(this.cropper.x1*t),y1:Math.round(this.cropper.y1*t),x2:Math.round(this.cropper.x2*t),y2:Math.round(this.cropper.y2*t)};return this.containWithinAspectRatio||(e.x1=Math.max(e.x1,0),e.y1=Math.max(e.y1,0),e.x2=Math.min(e.x2,this.transformedSize.width),e.y2=Math.min(e.y2,this.transformedSize.height)),e}getOffsetImagePosition(){const t=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth;let e,i;(this.canvasRotation+this.exifTransform.rotate)%2?(e=(this.transformedSize.width-this.originalSize.height)/2,i=(this.transformedSize.height-this.originalSize.width)/2):(e=(this.transformedSize.width-this.originalSize.width)/2,i=(this.transformedSize.height-this.originalSize.height)/2);const n={x1:Math.round(this.cropper.x1*t)-e,y1:Math.round(this.cropper.y1*t)-i,x2:Math.round(this.cropper.x2*t)-e,y2:Math.round(this.cropper.y2*t)-i};return this.containWithinAspectRatio||(n.x1=Math.max(n.x1,0),n.y1=Math.max(n.y1,0),n.x2=Math.min(n.x2,this.transformedSize.width),n.y2=Math.min(n.y2,this.transformedSize.height)),n}cropToBase64(t){return t.toDataURL("image/"+this.format,this.getQuality())}getQuality(){return Math.min(1,Math.max(0,this.imageQuality/100))}getResizeRatio(t,e){const i=this.resizeToWidth/t,n=this.resizeToHeight/e,r=new Array;this.resizeToWidth>0&&r.push(i),this.resizeToHeight>0&&r.push(n);const s=0===r.length?1:Math.min(...r);return s>1&&!this.onlyScaleDown?s:Math.min(s,1)}getClientX(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}getClientY(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(et.b),s.Lb(s.h))},t.\u0275cmp=s.Fb({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){var i;1&t&&(s.Ec(it,!0),s.Pc(nt,!0)),2&t&&(s.uc(i=s.Zb())&&(e.wrapper=i.first),s.uc(i=s.Zb())&&(e.sourceImage=i.first))},hostVars:4,hostBindings:function(t,e){1&t&&s.Yb("resize",(function(){return e.onResize()}),!1,s.xc)("mousemove",(function(t){return e.moveImg(t)}),!1,s.wc)("touchmove",(function(t){return e.moveImg(t)}),!1,s.wc)("mouseup",(function(){return e.moveStop()}),!1,s.wc)("touchend",(function(){return e.moveStop()}),!1,s.wc),2&t&&(s.Fc("text-align",e.alignImage),s.Db("disabled",e.disabled))},inputs:{format:"format",maintainAspectRatio:"maintainAspectRatio",transform:"transform",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",backgroundColor:"backgroundColor"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[s.xb],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(s.Rb(0,"div",null,0),s.Ic(2,rt,2,5,"img",1),s.Mb(3,"div",2),s.Ic(4,at,3,15,"div",3),s.Qb()),2&t&&(s.Fc("background",e.imageVisible&&e.backgroundColor),s.zb(2),s.kc("ngIf",e.safeImgDataUrl),s.zb(1),s.Fc("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),s.zb(1),s.kc("ngIf",e.imageVisible))},directives:[f.m],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t})(),lt=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[f.b]]}),t})();var bt=i("qs8T");const pt=["_dateofbirthInputHidden"],ht=["profilePicImg"],dt=["profileBannerImg"],ut=["profilePic"],mt=["chartTab"];function gt(t,e){if(1&t&&(s.Rb(0,"div",64),s.Mb(1,"app-email-verification",65),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("email",t.userProfile.email)("verificationStatus",t.userProfile.login_enabled)}}function ft(t,e){if(1&t&&(s.Rb(0,"span",66),s.Kc(1),s.dc(2,"hoursToHM"),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Mc(" ",s.ec(2,1,t.studentstats.duration),"")}}function It(t,e){if(1&t&&(s.Rb(0,"a",67),s.Rb(1,"i",15),s.Kc(2,"file_download"),s.Qb(),s.Qb()),2&t){const t=s.cc();s.Ab("href",t.download_pdf_url,s.Bc)}}function vt(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",68),s.Yb("click",(function(){return s.yc(t),s.cc().enableEditing()})),s.Rb(1,"i",69),s.Kc(2,"mode_edit"),s.Qb(),s.Qb()}if(2&t){const t=s.cc();s.kc("disabled",t.editEnabled)}}function Rt(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",70),s.Yb("click",(function(){return s.yc(t),s.cc().cancelEditing()})),s.Rb(1,"i",69),s.Kc(2,"close"),s.Qb(),s.Qb()}}function St(t,e){if(1&t&&(s.Rb(0,"div",71),s.Rb(1,"div",72),s.Rb(2,"span",73),s.Kc(3),s.dc(4,"slice"),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(3),s.Lc(s.gc(4,1,t.userProfile.nickname,0,1))}}function _t(t,e){if(1&t&&(s.Rb(0,"div",74),s.Mb(1,"app-preloader",30),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("status",t.preloader)}}function Ct(t,e){if(1&t&&s.Mb(0,"img",75,76),2&t){const t=s.cc();s.kc("src",t.profilePicImgUrl,s.Bc)}}function zt(t,e){if(1&t&&s.Mb(0,"img",77),2&t){const t=s.cc();s.kc("src",t.croppedImage,s.Bc)}}function Pt(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",68),s.Yb("click",(function(){return s.yc(t),s.cc().enableEditing()})),s.Rb(1,"i",69),s.Kc(2,"mode_edit"),s.Qb(),s.Qb()}if(2&t){const t=s.cc();s.kc("disabled",t.editEnabled)}}function yt(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",70),s.Yb("click",(function(){return s.yc(t),s.cc().cancelEditing()})),s.Rb(1,"i",69),s.Kc(2,"close"),s.Qb(),s.Qb()}}function xt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_FIRSTNAME_REQUIRED")))}function Mt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_CHARACTERS_COUNT")))}function wt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_NO_EMPTY_SPACES")))}function Qt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_LATIN_CHARACTERS_ONLY")))}function At(t,e){if(1&t&&(s.Rb(0,"div",96),s.Ic(1,xt,3,3,"p",97),s.Ic(2,Mt,3,3,"p",97),s.Ic(3,wt,3,3,"p",97),s.Ic(4,Qt,3,3,"p",97),s.Qb()),2&t){const t=s.cc(2);s.zb(1),s.kc("ngIf",t.f.name.errors.required),s.zb(1),s.kc("ngIf",t.f.name.errors.maxlength),s.zb(1),s.kc("ngIf",t.f.name.errors.whitespace),s.zb(1),s.kc("ngIf",t.f.name.errors.hasOnlyEnglish)}}function Ot(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_LASTNAME_REQUIRED")))}function kt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_CHARACTERS_COUNT")))}function Et(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_NO_EMPTY_SPACES")))}function Tt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_LATIN_CHARACTERS_ONLY")))}function Lt(t,e){if(1&t&&(s.Rb(0,"div",96),s.Ic(1,Ot,3,3,"p",97),s.Ic(2,kt,3,3,"p",97),s.Ic(3,Et,3,3,"p",97),s.Ic(4,Tt,3,3,"p",97),s.Qb()),2&t){const t=s.cc(2);s.zb(1),s.kc("ngIf",t.f.lastname.errors.required),s.zb(1),s.kc("ngIf",t.f.lastname.errors.maxlength),s.zb(1),s.kc("ngIf",t.f.lastname.errors.whitespace),s.zb(1),s.kc("ngIf",t.f.lastname.errors.hasOnlyEnglish)}}function Nt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_NICKNAME_REQUIRED")))}function Kt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_CHARACTERS_COUNT")))}function Dt(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_NO_EMPTY_SPACES")))}function Ut(t,e){1&t&&(s.Rb(0,"p",98),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_LATIN_CHARACTERS_ONLY")))}function Bt(t,e){if(1&t&&(s.Rb(0,"div",99),s.Ic(1,Nt,3,3,"p",97),s.Ic(2,Kt,3,3,"p",97),s.Ic(3,Dt,3,3,"p",97),s.Ic(4,Ut,3,3,"p",97),s.Qb()),2&t){const t=s.cc(2);s.zb(1),s.kc("ngIf",t.f.nickname.errors.required),s.zb(1),s.kc("ngIf",t.f.nickname.errors.maxlength),s.zb(1),s.kc("ngIf",t.f.nickname.errors.whitespace),s.zb(1),s.kc("ngIf",t.f.nickname.errors.hasOnlyEnglish)}}function Vt(t,e){1&t&&(s.Rb(0,"div"),s.Kc(1,"image required"),s.Qb())}function Ft(t,e){if(1&t&&(s.Rb(0,"div",96),s.Ic(1,Vt,2,0,"div",54),s.Qb()),2&t){const t=s.cc(2);s.zb(1),s.kc("ngIf",t.f.image.errors.required)}}function Ht(t,e){1&t&&(s.Rb(0,"div",96),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"INVOICE_RECEIPTS_UPLOAD_EXTENSIONS")))}function Yt(t,e){1&t&&(s.Rb(0,"div",96),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"INVOICE_RECEIPTS_UPLOAD_EXTENSIONS")))}const Wt=function(t){return{"is-invalid":t}};function qt(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",78),s.Rb(1,"div",79),s.Rb(2,"div",52),s.Rb(3,"form",80),s.Yb("ngSubmit",(function(){return s.yc(t),s.cc().updateProfileSubmit()})),s.Rb(4,"div",35),s.Rb(5,"div",81),s.Rb(6,"i",82),s.Kc(7,"account_circle"),s.Qb(),s.Rb(8,"label",53),s.Kc(9),s.dc(10,"translate"),s.Qb(),s.Rb(11,"input",83),s.Yb("focus",(function(e){return s.yc(t),s.cc().hideFabtabs(e)}))("focusout",(function(e){return s.yc(t),s.cc().showFabtabs(e)})),s.Qb(),s.Ic(12,At,5,4,"div",84),s.Qb(),s.Rb(13,"div",81),s.Mb(14,"i",82),s.Rb(15,"label",85),s.Kc(16),s.dc(17,"translate"),s.Qb(),s.Rb(18,"input",86),s.Yb("focus",(function(e){return s.yc(t),s.cc().hideFabtabs(e)}))("focusout",(function(e){return s.yc(t),s.cc().showFabtabs(e)})),s.Qb(),s.Ic(19,Lt,5,4,"div",84),s.Qb(),s.Rb(20,"div",87),s.Mb(21,"i",82),s.Rb(22,"label",88),s.Kc(23),s.dc(24,"translate"),s.Qb(),s.Rb(25,"input",89),s.Yb("focus",(function(e){return s.yc(t),s.cc().hideFabtabs(e)}))("focusout",(function(e){return s.yc(t),s.cc().showFabtabs(e)})),s.Qb(),s.Ic(26,Bt,5,4,"div",90),s.Qb(),s.Qb(),s.Rb(27,"div",35),s.Rb(28,"div",91),s.Rb(29,"i",82),s.Kc(30,"photo_camera"),s.Qb(),s.Rb(31,"input",92,93),s.Yb("change",(function(e){return s.yc(t),s.cc().fileChangeEvent(e)})),s.Qb(),s.Ic(33,Ft,2,1,"div",84),s.Ic(34,Ht,3,3,"div",84),s.Qb(),s.Rb(35,"div",91),s.Rb(36,"i",82),s.Kc(37,"photo_camera"),s.Qb(),s.Rb(38,"input",94,95),s.Yb("change",(function(e){return s.yc(t),s.cc().bannerChanged(e)})),s.Qb(),s.Ic(40,Yt,3,3,"div",84),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&t){const t=s.cc();s.zb(3),s.kc("formGroup",t.updateProfileForm),s.zb(6),s.Lc(s.ec(10,14,"PROFILE_FIRSTNAME")),s.zb(2),s.kc("ngClass",s.rc(20,Wt,t.updateProfileSubmitted&&t.f.name.errors)),s.zb(1),s.kc("ngIf",(t.f.name.dirty||t.f.name.touched||t.updateProfileSubmitted)&&t.f.name.errors),s.zb(4),s.Lc(s.ec(17,16,"PROFILE_LASTNAME")),s.zb(2),s.kc("ngClass",s.rc(22,Wt,t.updateProfileSubmitted&&t.f.lastname.errors)),s.zb(1),s.kc("ngIf",(t.f.lastname.dirty||t.f.lastname.touched||t.updateProfileSubmitted)&&t.f.lastname.errors),s.zb(4),s.Lc(s.ec(24,18,"PROFILE_NICKNAME")),s.zb(2),s.kc("ngClass",s.rc(24,Wt,t.updateProfileSubmitted&&t.f.nickname.errors)),s.zb(1),s.kc("ngIf",(t.f.nickname.dirty||t.f.nickname.touched||t.updateProfileSubmitted)&&t.f.nickname.errors),s.zb(7),s.kc("ngIf",t.updateProfileSubmitted&&t.f.image.errors),s.zb(1),s.kc("ngIf",t.profileImageError),s.zb(4),s.kc("ngClass",s.rc(26,Wt,t.updateProfileSubmitted&&t.f.banner.errors)),s.zb(2),s.kc("ngIf",t.bannerImageError)}}function Gt(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.userProfile.name)}}function Xt(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.userProfile.lastname)}}function jt(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.userProfile.nickname)}}function Zt(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.dc(2,"date"),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(s.fc(2,1,t.userProfile.created_at,"dd MMMM yyyy"))}}function $t(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.dc(2,"hoursToHM"),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(s.ec(2,1,t.studentstats.duration))}}const Jt=function(t){return{v1:t}};function te(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Mc(" ",s.fc(2,1,"VISIT_TIMES",s.rc(4,Jt,t.studentstats.visits))," ")}}function ee(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.dc(2,"hoursToHM"),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Mc("",s.ec(2,1,t.studentstats.avgduration)," ")}}function ie(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(s.fc(2,1,"STATS_COURSES",s.rc(4,Jt,t.studentstats.courses)))}}function ne(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.studentstats.coursesComplete)}}function re(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.studentstats.completeLessons)}}function se(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.studentstats.quizes)}}function ae(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.studentstats.quizAttempt)}}function oe(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(t.studentstats.totalAns)}}function ce(t,e){if(1&t&&(s.Rb(0,"h6"),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Mc("",t.studentstats.quizAvg,"%")}}function le(t,e){1&t&&(s.Rb(0,"h6"),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"YOUR_QUIZZES")))}function be(t,e){if(1&t&&(s.Rb(0,"div",100),s.Rb(1,"a",101),s.Kc(2),s.Qb(),s.Mb(3,"br"),s.Qb()),2&t){const t=e.$implicit;s.zb(1),s.kc("routerLink","/course/"+t.course_id)("fragment","quizz"),s.zb(1),s.Lc(t.title)}}function pe(t,e){1&t&&s.Mb(0,"app-fabtabs",102),2&t&&s.kc("menuType","general")}const he=function(t){return{disable_selection:t}};let de=(()=>{class t{constructor(t,e,i,n,r,s){this.apiService=t,this.formBuilder=e,this.userService=i,this.bcService=n,this.translate=r,this.toastr=s,this.url=S.a.api.url,this.updateProfileSubmitted=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.profileImageError=!1,this.bannerImageError=!1,this.editEnabled=!1,this.profileToUpload=null,this.bannerToUpload=null,this.breadcrumb=[{label:"NAV_HOME",url:"/home"},{label:"NAV_PROFILE",url:"/user/profile"}],this.preloader=!1,this.profilePicImgUrl="",this.profileBannerImgUrl="/assets/images/default_banner.png",this.imageChangedEvent="",this.croppedImage="",this.showCropper=!1,this.fabtabsStatus=!0,this.cropperLoading=!1,this.default_colors=[],this.months=[],this.quizDate=[],this.quizzestitle=[],this.quizPercentage=[],this.quiztitle=[],this.myData=[],this.quizChart=[],this.weeks=[],this.visitsData=[],this.durationData=[],this.selectedValue=[],this.c_ids=[],this.animation=!0,this.spinner=!1,this.is_quiz=!1,this.visitChartsInitlized=!1,this.download_pdf_url=""}ngOnInit(){const t=new r.a({url:"/user/profile",name:"NAV_PROFILE"});this.bcService.resetPush(t),this.bcService.setTitle(this.translate.instant("NAV_PROFILE")),this.userProfile=new J.a(""),this.updateProfileForm=this.formBuilder.group({id:["",p.p.required],name:["",p.p.compose([p.p.required,tt.a.patternValidator(/^[a-zA-Z ]+$/,{hasOnlyEnglish:!0}),this.noWhitespaceValidator.bind(this),p.p.maxLength(31)])],lastname:["",p.p.compose([p.p.required,tt.a.patternValidator(/^[a-zA-Z ]+$/,{hasOnlyEnglish:!0}),this.noWhitespaceValidator.bind(this),p.p.maxLength(31)])],nickname:["",p.p.compose([p.p.required,tt.a.patternValidator(/^[a-zA-Z ]+$/,{hasOnlyEnglish:!0}),this.noWhitespaceValidator.bind(this),p.p.maxLength(31)])],image:[""],avatarimage:[""],banner:[""]}),this.apiService.getUserProfileinfo().subscribe(t=>{console.log(" userInfoData ",t),this.userProfile=t,this.userProfile.image="",this.updateProfileForm.patchValue(this.userProfile),this.updateProfileForm.disable(),this.profilePicImgUrl=this.userProfile.image_path&&""!==this.userProfile.image_path?this.url+"/uploads/users/"+this.userProfile.id+"/"+this.userProfile.image_path:this.profilePicImgUrl,this.profileBannerImgUrl=this.userProfile.banner_path&&""!==this.userProfile.banner_path?this.url+"/uploads/users/"+this.userProfile.id+"/"+this.userProfile.banner_path:this.profileBannerImgUrl,this.apiService.setUserProfile(this.userProfile)}),this.apiService.studentStats().subscribe(t=>{"success"===t.api_status&&(console.log("studentstats",t.data),this.studentstats=t.data,this.studentstats.quizes>0&&(this.is_quiz=!0,console.log("this.is_quiz",this.is_quiz)))}),this.apiService.quizSummary().subscribe(t=>{console.log("quizSummary",t.data),this.months=[this.translate.instant("JANUARY"),this.translate.instant("FEBRUARY"),this.translate.instant("MARCH"),this.translate.instant("APRIL"),this.translate.instant("MAY"),this.translate.instant("JUNE"),this.translate.instant("JULY"),this.translate.instant("AUGUST"),this.translate.instant("SEPTEMBER"),this.translate.instant("OCTOBER"),this.translate.instant("NOVEMBER"),this.translate.instant("DECEMBER")],this.default_colors=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#6633CC","#E67300","#316395","#994499","#22AA99","#AAAA11","#8B0707","#329262","#5574A6","#3B3EAC"];for(let e=0;e<t.data.length;e++){const i=t.data[e];if(this.quizPercentage[e]=[],this.quiztitle[e]=[],console.log("quizSummary"+[e],i),i.length>0){this.quizzestitle.push(i[0]),console.log("this.quizzestitle",this.quizzestitle);let t=0;this.months.forEach(n=>{t=++t;const r=i.find(e=>parseInt(e.new_date)===t);r?(this.quizPercentage[e].push(r.percentage),this.quiztitle[e].push(r.title)):this.quizPercentage[e].push(0)})}}for(let e=0;e<this.quizPercentage.length;e++)this.quizPercentage[e].length>0&&this.myData.push({data:this.quizPercentage[e],label:this.quiztitle[e][0],borderColor:this.default_colors[e],fill:!1,lineTension:.1,borderWidth:3});console.log("this.myData",this.myData),this.quizChart=new Z.Chart("quizChart",{type:"line",data:{labels:this.months,datasets:this.myData},options:{title:{text:this.translate.instant("QUIZ_CHART"),display:!0},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{yAxes:[{ticks:{beginAtZero:!0,fontSize:14}}],xAxes:[{ticks:{fontSize:14}}]},responsive:!0,maintainAspectRatio:!1}})}),this.apiService.studyStatChart().subscribe(t=>{"success"===t.api_status&&(console.log("studyStatChart",t.data),this.visitRes=t.data.Visits,this.durationRes=t.data.Durations,this.visitsData=[this.visitRes[12],this.visitRes[11],this.visitRes[10],this.visitRes[9],this.visitRes[8],this.visitRes[7],this.visitRes[6],this.visitRes[5],this.visitRes[4],this.visitRes[3],this.visitRes[2],this.visitRes[1]],this.durationData=[this.durationRes[12],this.durationRes[11],this.durationRes[10],this.durationRes[9],this.durationRes[8],this.durationRes[7],this.durationRes[6],this.durationRes[5],this.durationRes[4],this.durationRes[3],this.durationRes[2],this.durationRes[1]],console.log("studyStatChart",this.visitsData),this.weeks=[12,11,10,9,8,7,6,5,4,3].map(t=>t+" weeks ago"),this.weeks.push("Last week"),this.weeks.push("This week"),this.visits=new Z.Chart("visits",{type:"bar",data:{labels:this.weeks,datasets:[{label:"Visits",borderColor:"#DC3912",backgroundColor:"#DC3912",data:this.visitsData}]},options:{title:{text:"Visits overview",display:!0,fontSize:18},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{barPercentage:.1,ticks:{fontSize:18,fontStyle:"bold"}}],yAxes:[{ticks:{fontSize:15,fontStyle:"bold",stepSize:1}}]},legend:{labels:{fontSize:20,fontStyle:"bold"}},responsive:!0,maintainAspectRatio:!1}}),this.durations=new Z.Chart("durations",{type:"bar",data:{labels:this.weeks,datasets:[{label:"Study duration",borderColor:"#DC3912",backgroundColor:"#DC3912",data:this.durationData}]},options:{title:{text:"Study Duration Overview",display:!0,fontSize:18},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{yAxes:[{ticks:{callback:function(t){return t+" Minutes"},fontSize:14,fontStyle:"bold"}}],xAxes:[{barPercentage:.1,ticks:{fontSize:18,fontStyle:"bold"}}]},legend:{labels:{fontSize:20,fontStyle:"bold"}},responsive:!0,maintainAspectRatio:!1}}))}),setTimeout((function(){$(".tabs").tabs()}),1e3)}enableEditing(){console.log(" enableEditing ",this.updateProfileForm.controls),this.editEnabled=!0,this.updateProfileForm.enable()}noWhitespaceValidator(t){return/\s/.test(t.value)?{whitespace:!0}:null}get f(){return this.updateProfileForm.controls}updateProfileSubmit(){if(this.showPreloader(),this.updateProfileSubmitted=!0,this.updateProfileForm.invalid)return void(this.preloader=!1);const t=[{name:"profileFile",file:this.profileToUpload},{name:"bannerFile",file:this.bannerToUpload}];this.updateProfileForm.get("avatarimage").setValue(this.croppedImage),this.userService.updateProfile2(this.updateProfileForm.value,t).subscribe(t=>{this.hidePreloader(),"success"===t.api_status&&(C.a.fire({title:"",text:this.translate.instant("PROFILE_UPDATED"),icon:"success",confirmButtonText:this.translate.instant("OK"),animation:!1,reverseButtons:!0}),this.showCropper=!1,this.editEnabled=!1,this.userProfile=new J.a(t.data),console.log(" this.userProfile    ",this.userProfile),this.updateProfileForm.patchValue(this.userProfile),this.updateProfileForm.disable(),this.profilePicImgUrl=this.userProfile.image_path&&""!==this.userProfile.image_path?this.url+"/uploads/users/"+this.userProfile.id+"/"+this.userProfile.image_path:this.profilePicImgUrl,this.profileBannerImgUrl=this.userProfile.banner_path&&""!==this.userProfile.banner_path?this.url+"/uploads/users/"+this.userProfile.id+"/"+this.userProfile.banner_path:this.profileBannerImgUrl,this.apiService.setUserProfile(this.userProfile))},t=>{this.editEnabled=!1,console.log(" error updateProfile2  "+t)})}fileChangeEvent(t){console.log(" fileChangeEvent ",t),this.imageChangedEvent=t,this.cropperLoading=!0}fileChanged(t){console.log(" fileChanged ");const e=t.target,i=["png","jpg","jpeg","JPG","JPEG"];if(e.files.length>0){const t=e.files[0],n=t.name.split(".").pop();this.profileImageError=!this.isInArray(i,n),this.profileImageError||(this.profileToUpload=t);const r=new FileReader;r.readAsDataURL(t),r.onload=t=>{this.profilePicImg.nativeElement.setAttribute("src",r.result)}}else this.profileToUpload=null}bannerChanged(t){const e=t.target,i=["png","jpg","jpeg","JPG","JPEG"];if(e.files.length>0){const t=e.files[0],n=t.name.split(".").pop();this.bannerImageError=!this.isInArray(i,n),this.bannerImageError||(this.bannerToUpload=e.files[0]);const r=new FileReader;r.readAsDataURL(t),r.onload=t=>{this.profileBannerImg.nativeElement.setAttribute("src",r.result)}}else this.bannerToUpload=null}isInArray(t,e){return t.indexOf(e.toLowerCase())>-1}cancelEditing(){this.updateProfileForm.patchValue(this.userProfile),this.updateProfileForm.disable(),this.editEnabled=!1,this.updateProfileSubmitted=!1,this.showCropper=!1,this.cropperLoading=!1}hidePreloader(){this.preloader=!1}showPreloader(){this.preloader=!0}imageLoaded(){setTimeout(()=>{this.showCropper=!0},1e3)}imageCropped(t){console.log("imageCropped event ",t),this.croppedImage=t.base64,console.log(t)}loadImageFailed(){console.log("loadImageFailed"),this.cropperLoading=!1}cropperReady(){console.log(" cropperReady "),setTimeout(()=>{this.cropperLoading=!1,this.showCropper=!0},1e3)}ngOnDestroy(){}showFabtabs(t){console.log("  showFab "),this.fabtabsStatus=!0}hideFabtabs(t){console.log("  hideFab "),this.fabtabsStatus=!1}statsTabClick(){this.animation=!1,this.visitChartsInitlized=!0}print(){let t;t=document.getElementById("visits");const e=t.toDataURL("image/jpg");let i;i=document.getElementById("durations");const n=i.toDataURL("image/jpg");this.apiService.getTranscript({visits:e,durations:n}).subscribe(t=>{if("stored"===t.api_status){this.spinner=!1,console.log("transcript",t),window.open(t.data,"_blank");const e='<a target="_blank" href="'+t.data+'" class="btn-flat white-text medium">'+this.translate.instant("TOAST_TRANSCRIPT_PDF")+"</a>";this.toastr.show(e),this.download_pdf_url=t.data}})}printBtnClick(){this.spinner=!0,this.visitChartsInitlized?this.print():(this.chartTab.nativeElement.click(),setTimeout(()=>{this.print()},2e3))}triggerProfilePicClick(){this.profilePic.nativeElement.click()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(a.a),s.Lb(p.b),s.Lb(x),s.Lb(o.a),s.Lb(c.d),s.Lb(l.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-profile"]],viewQuery:function(t,e){var i;1&t&&(s.Pc(pt,!0),s.Pc(ht,!0),s.Pc(dt,!0),s.Pc(ut,!0),s.Pc(mt,!0)),2&t&&(s.uc(i=s.Zb())&&(e._dateofbirthInputHidden=i.first),s.uc(i=s.Zb())&&(e.profilePicImg=i.first),s.uc(i=s.Zb())&&(e.profileBannerImg=i.first),s.uc(i=s.Zb())&&(e.profilePic=i.first),s.uc(i=s.Zb())&&(e.chartTab=i.first))},decls:207,vars:152,consts:[["title","NAV_PROFILE",3,"breadcrumb"],["class","right-align",4,"ngIf"],[1,"row","mb-0"],["id","profile-page-header",1,"card","mt-0","pt-3"],[1,"col","xl4","m5","card","show-on-large","hide-on-med-and-down","right","mr-2","top-50"],[1,"absolute","mt-2"],["class","blue-text",4,"ngIf"],["target","_blank","class","mt-2 mb-2 right btn waves-effect waves-light red p-0 pr-2 pl-2",4,"ngIf"],[1,"mt-2","mb-2","right","btn","waves-effect","waves-light","red",3,"click"],[1,"material-icons","left"],[2,"padding-left","5px"],[1,"card-content","padding-1"],[1,"row","mb-0","prof_header","valign-wrapper"],[1,"col","s12","m12","right","right-align","hide-on-med-and-up","prof_header_box"],[1,"btn-floating","waves-effect","waves-light","cyan","mr-2","ml-2",3,"disabled","click"],[1,"material-icons"],["class","btn-floating waves-effect waves-light red mr-2 ml-2",3,"disabled","click",4,"ngIf"],["class","btn-floating waves-effect waves-light red mr-2 ml-2",3,"click",4,"ngIf"],[1,"col","relative","prof_header_box"],[1,"card-profile-imageX","center","margin","s-left"],["class","avatar_placeholderCont text-white",4,"ngIf"],["class","updatingProfile",4,"ngIf"],["alt","profile image","class","profilePicImg circle z-depth-2 responsive-img activator gradient-45deg-light-blue-cyan gradient-shadow",3,"src",4,"ngIf"],["alt","profile image","class","croppedImage circle z-depth-2 responsive-img activator gradient-45deg-light-blue-cyan gradient-shadow",3,"src",4,"ngIf"],[1,"editProfilePicCont",3,"ngClass"],[1,"white-text",3,"click"],[1,"va-top","margin","left","flex"],[1,"material-icons","left","margin","pr-4"],[1,"imageCropperCont","hide-on-med-and-down"],["format","png","outputType","base64",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","imageCropped","imageLoaded","loadImageFailed","cropperReady"],[3,"status"],[1,"col","offset-m2X","prof_header_box"],[1,"card-title","grey-text","text-darken-4"],[1,"medium-small","grey-text","capitalize"],[1,"col","s12","m2","l4","xl4","dl5","right","right-align","hide-on-small-only","prof_header_box"],[1,"row"],[1,"col","s12","hide-on-large-only","p-0"],["class","col s12 no-padding",4,"ngIf"],[1,"col","s12","no-padding","profileTabs"],[1,"row","margin"],[1,"tabs"],[1,"tab","col","s3","m2"],["href","#about",1,"black-text"],[1,"tab","col","s3","m2",3,"click"],["href","#stats",1,"black-text"],["chartTab",""],["href","#quiz",1,"black-text"],["id","about",1,"col","s12","mt-1"],[1,"col","s12","m6","l6","xl4"],[1,"card","br-1"],[1,"card-action","black"],[1,"white-text"],[1,"card-content"],["for","name",1,"active"],[4,"ngIf"],["id","stats",1,"col","s12","mt-1","white"],[1,"row","cmargin"],[1,"chart-container"],["id","visits"],["id","durations"],["id","quiz",1,"col","s12","mt-1","white"],["id","quizChart"],["class","links",4,"ngFor","ngForOf"],[3,"menuType",4,"ngIf"],[1,"right-align"],[3,"email","verificationStatus"],[1,"blue-text"],["target","_blank",1,"mt-2","mb-2","right","btn","waves-effect","waves-light","red","p-0","pr-2","pl-2"],[1,"btn-floating","waves-effect","waves-light","red","mr-2","ml-2",3,"disabled","click"],[1,"large","material-icons"],[1,"btn-floating","waves-effect","waves-light","red","mr-2","ml-2",3,"click"],[1,"avatar_placeholderCont","text-white"],[1,"avatar_placeholder","circle","relative"],[1,"uppercase"],[1,"updatingProfile"],["alt","profile image",1,"profilePicImg","circle","z-depth-2","responsive-img","activator","gradient-45deg-light-blue-cyan","gradient-shadow",3,"src"],["profilePicImg",""],["alt","profile image",1,"croppedImage","circle","z-depth-2","responsive-img","activator","gradient-45deg-light-blue-cyan","gradient-shadow",3,"src"],[1,"col","s12","no-padding"],[1,"card","formCard"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"input-field","col","s6","l4"],[1,"material-icons","prefix"],["id","name","type","text","formControlName","name",1,"form-control","mb-5x",3,"ngClass","focus","focusout"],["class","invalid-feedback red-text",4,"ngIf"],["for","lastname",1,"active"],["id","lastname","type","text","formControlName","lastname",1,"form-control","mb-5x",3,"ngClass","focus","focusout"],[1,"input-field","col","s12","l4"],["for","nickname",1,"active"],["id","nickname","type","text","formControlName","nickname",1,"form-control","mb-5x",3,"ngClass","focus","focusout"],["class","invalid-feedback red-text center",4,"ngIf"],[1,"input-field","col","s3","hide"],["id","image","type","file",1,"form-control","mb-5x",3,"change"],["profilePic",""],["id","banner","accept",".png,.jpg,.jpeg","type","file",1,"form-control","mb-5x",3,"ngClass","change"],["profileBanner",""],[1,"invalid-feedback","red-text"],["class","margin vm",4,"ngIf"],[1,"margin","vm"],[1,"invalid-feedback","red-text","center"],[1,"links"],[3,"routerLink","fragment"],[3,"menuType"]],template:function(t,e){1&t&&(s.Rb(0,"app-breadcrumbs",0),s.Ic(1,gt,2,2,"div",1),s.dc(2,"json"),s.Qb(),s.Rb(3,"div",2),s.Rb(4,"div",3),s.Rb(5,"div",2),s.Rb(6,"div",4),s.Rb(7,"p",5),s.Kc(8),s.dc(9,"translate"),s.Ic(10,ft,3,3,"span",6),s.Qb(),s.Ic(11,It,3,1,"a",7),s.Rb(12,"button",8),s.Yb("click",(function(){return e.printBtnClick()})),s.Rb(13,"i",9),s.Kc(14,"print"),s.Qb(),s.Rb(15,"span",10),s.Kc(16),s.dc(17,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(18,"div",11),s.Rb(19,"div",12),s.Rb(20,"div",13),s.Rb(21,"button",14),s.Yb("click",(function(){return e.updateProfileSubmit()})),s.Rb(22,"i",15),s.Kc(23,"done"),s.Qb(),s.Qb(),s.Ic(24,vt,3,1,"button",16),s.Ic(25,Rt,3,0,"button",17),s.Qb(),s.Rb(26,"div",18),s.Rb(27,"figure",19),s.Ic(28,St,5,5,"div",20),s.Ic(29,_t,2,1,"div",21),s.Ic(30,Ct,2,1,"img",22),s.Ic(31,zt,1,1,"img",23),s.Rb(32,"div",24),s.Rb(33,"a",25),s.Yb("click",(function(){return e.triggerProfilePicClick()})),s.Rb(34,"p",26),s.Rb(35,"i",27),s.Kc(36,"photo_camera"),s.Qb(),s.Rb(37,"span"),s.Kc(38),s.dc(39,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(40,"div",28),s.Rb(41,"image-cropper",29),s.Yb("imageCropped",(function(t){return e.imageCropped(t)}))("imageLoaded",(function(){return e.imageLoaded()}))("loadImageFailed",(function(){return e.loadImageFailed()}))("cropperReady",(function(){return e.cropperReady()})),s.Qb(),s.Mb(42,"app-preloader",30),s.Qb(),s.Qb(),s.Rb(43,"div",31),s.Rb(44,"h4",32),s.Kc(45),s.Qb(),s.Rb(46,"p",33),s.Kc(47),s.Qb(),s.Qb(),s.Rb(48,"div",34),s.Rb(49,"button",14),s.Yb("click",(function(){return e.updateProfileSubmit()})),s.Rb(50,"i",15),s.Kc(51,"done"),s.Qb(),s.Qb(),s.Ic(52,Pt,3,1,"button",16),s.Ic(53,yt,3,0,"button",17),s.Qb(),s.Qb(),s.Rb(54,"div",35),s.Rb(55,"div",36),s.Rb(56,"image-cropper",29),s.Yb("imageCropped",(function(t){return e.imageCropped(t)}))("imageLoaded",(function(){return e.imageLoaded()}))("loadImageFailed",(function(){return e.loadImageFailed()}))("cropperReady",(function(){return e.cropperReady()})),s.Qb(),s.Mb(57,"app-preloader",30),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Ic(58,qt,41,28,"div",37),s.Rb(59,"div",38),s.Rb(60,"div",39),s.Rb(61,"div"),s.Rb(62,"ul",40),s.Rb(63,"li",41),s.Rb(64,"a",42),s.Kc(65),s.dc(66,"translate"),s.Qb(),s.Qb(),s.Rb(67,"li",43),s.Yb("click",(function(){return e.statsTabClick()})),s.Rb(68,"a",44,45),s.Kc(70),s.dc(71,"translate"),s.Qb(),s.Qb(),s.Rb(72,"li",41),s.Rb(73,"a",46),s.Kc(74),s.dc(75,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(76,"div",47),s.Rb(77,"div",35),s.Rb(78,"div",48),s.Rb(79,"div",49),s.Rb(80,"div",50),s.Rb(81,"h6",51),s.Kc(82),s.dc(83,"translate"),s.Qb(),s.Qb(),s.Rb(84,"div",52),s.Rb(85,"label",53),s.Kc(86),s.dc(87,"translate"),s.Qb(),s.Ic(88,Gt,2,1,"h6",54),s.Rb(89,"label",53),s.Kc(90),s.dc(91,"translate"),s.Qb(),s.Ic(92,Xt,2,1,"h6",54),s.Rb(93,"label",53),s.Kc(94),s.dc(95,"translate"),s.Qb(),s.Ic(96,jt,2,1,"h6",54),s.Qb(),s.Qb(),s.Qb(),s.Rb(97,"div",48),s.Rb(98,"div",49),s.Rb(99,"div",50),s.Rb(100,"h6",51),s.Kc(101),s.dc(102,"translate"),s.Qb(),s.Qb(),s.Rb(103,"div",52),s.Rb(104,"label",53),s.Kc(105),s.dc(106,"translate"),s.Qb(),s.Ic(107,Zt,3,4,"h6",54),s.Mb(108,"hr"),s.Rb(109,"label",53),s.Kc(110),s.dc(111,"translate"),s.Qb(),s.Ic(112,$t,3,3,"h6",54),s.Mb(113,"hr"),s.Rb(114,"label",53),s.Kc(115),s.dc(116,"translate"),s.Qb(),s.Ic(117,te,3,6,"h6",54),s.Mb(118,"hr"),s.Rb(119,"label",53),s.Kc(120),s.dc(121,"translate"),s.Qb(),s.Ic(122,ee,3,3,"h6",54),s.Mb(123,"hr"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(124,"div",35),s.Rb(125,"div",48),s.Rb(126,"div",49),s.Rb(127,"div",50),s.Rb(128,"h6",51),s.Kc(129),s.dc(130,"translate"),s.Qb(),s.Qb(),s.Rb(131,"div",52),s.Rb(132,"label",53),s.Kc(133),s.dc(134,"translate"),s.Qb(),s.Ic(135,ie,3,6,"h6",54),s.Mb(136,"hr"),s.Rb(137,"label",53),s.Kc(138),s.dc(139,"translate"),s.Qb(),s.Ic(140,ne,2,1,"h6",54),s.Mb(141,"hr"),s.Rb(142,"label",53),s.Kc(143),s.dc(144,"translate"),s.Qb(),s.Ic(145,re,2,1,"h6",54),s.Mb(146,"hr"),s.Qb(),s.Qb(),s.Qb(),s.Rb(147,"div",48),s.Rb(148,"div",49),s.Rb(149,"div",50),s.Rb(150,"h6",51),s.Kc(151),s.dc(152,"translate"),s.Qb(),s.Qb(),s.Rb(153,"div",52),s.Rb(154,"label",53),s.Kc(155),s.dc(156,"translate"),s.Qb(),s.Ic(157,se,2,1,"h6",54),s.Mb(158,"hr"),s.Rb(159,"label",53),s.Kc(160),s.dc(161,"translate"),s.Qb(),s.Ic(162,ae,2,1,"h6",54),s.Mb(163,"hr"),s.Rb(164,"label",53),s.Kc(165),s.dc(166,"translate"),s.Qb(),s.Ic(167,oe,2,1,"h6",54),s.Mb(168,"hr"),s.Rb(169,"label",53),s.Kc(170),s.dc(171,"translate"),s.Qb(),s.Ic(172,ce,2,1,"h6",54),s.Mb(173,"hr"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(174,"div",55),s.Rb(175,"div",56),s.Rb(176,"h5"),s.Kc(177),s.dc(178,"translate"),s.Qb(),s.Rb(179,"p"),s.Kc(180),s.dc(181,"translate"),s.Qb(),s.Rb(182,"div",57),s.Mb(183,"canvas",58),s.Qb(),s.Qb(),s.Rb(184,"div",56),s.Rb(185,"h5"),s.Kc(186),s.dc(187,"translate"),s.Qb(),s.Rb(188,"p"),s.Kc(189),s.dc(190,"translate"),s.Qb(),s.Rb(191,"div",57),s.Mb(192,"canvas",59),s.Qb(),s.Qb(),s.Qb(),s.Rb(193,"div",60),s.Rb(194,"div",56),s.Rb(195,"h5"),s.Kc(196),s.dc(197,"translate"),s.Qb(),s.Rb(198,"p"),s.Kc(199),s.dc(200,"translate"),s.Qb(),s.Rb(201,"div",57),s.Mb(202,"canvas",61),s.Qb(),s.Mb(203,"br"),s.Ic(204,le,3,3,"h6",54),s.Ic(205,be,4,3,"div",62),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Ic(206,pe,1,1,"app-fabtabs",63),s.Qb()),2&t&&(s.kc("breadcrumb",e.breadcrumb),s.zb(1),s.kc("ngIf","{}"!=s.ec(2,88,e.userProfile)),s.zb(7),s.Lc(s.ec(9,90,"STUDY_DURATION")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(1),s.kc("ngIf",""!==e.download_pdf_url),s.zb(1),s.Db("spinner",e.spinner),s.zb(4),s.Lc(s.ec(17,92,"PRINT")),s.zb(5),s.kc("disabled",!e.editEnabled||!e.updateProfileForm.valid),s.zb(3),s.kc("ngIf",!e.editEnabled),s.zb(1),s.kc("ngIf",e.editEnabled),s.zb(3),s.kc("ngIf",!e.preloader&&!e.showCropper&&""===e.profilePicImgUrl),s.zb(1),s.kc("ngIf",e.preloader),s.zb(1),s.kc("ngIf",!e.preloader&&!e.showCropper&&""!==e.profilePicImgUrl),s.zb(1),s.kc("ngIf",e.showCropper&&!e.preloader),s.zb(1),s.kc("ngClass",s.rc(150,he,!e.editEnabled)),s.zb(6),s.Lc(s.ec(39,94,"EDIT")),s.zb(3),s.Fc("display",e.showCropper?null:"none"),s.kc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",100)("cropperMinWidth",100)("onlyScaleDown",!0)("roundCropper",!0),s.zb(1),s.kc("status",e.cropperLoading),s.zb(3),s.Nc("",e.f.name.value," ",e.f.lastname.value,""),s.zb(2),s.Lc(e.f.nickname.value),s.zb(2),s.kc("disabled",!e.editEnabled||!e.updateProfileForm.valid),s.zb(3),s.kc("ngIf",!e.editEnabled),s.zb(1),s.kc("ngIf",e.editEnabled),s.zb(3),s.Fc("display",e.showCropper?null:"none"),s.kc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",100)("cropperMinWidth",100)("onlyScaleDown",!0)("roundCropper",!0),s.zb(1),s.kc("status",e.cropperLoading),s.zb(1),s.kc("ngIf",e.editEnabled),s.zb(7),s.Mc(" ",s.ec(66,96,"ABOUT_STUDENT")," "),s.zb(5),s.Mc(" ",s.ec(71,98,"STUDY_STATS")," "),s.zb(4),s.Mc(" ",s.ec(75,100,"QUIZ_CHART")," "),s.zb(8),s.Lc(s.ec(83,102,"BASIC_INFO")),s.zb(4),s.Lc(s.ec(87,104,"PROFILE_FIRSTNAME")),s.zb(2),s.kc("ngIf",e.userProfile),s.zb(2),s.Lc(s.ec(91,106,"PROFILE_LASTNAME")),s.zb(2),s.kc("ngIf",e.userProfile),s.zb(2),s.Lc(s.ec(95,108,"PROFILE_NICKNAME")),s.zb(2),s.kc("ngIf",e.userProfile),s.zb(5),s.Lc(s.ec(102,110,"STUDENT_STATS")),s.zb(4),s.Lc(s.ec(106,112,"STUDENT_SINCE")),s.zb(2),s.kc("ngIf",e.userProfile),s.zb(3),s.Lc(s.ec(111,114,"STUDY_DURATION")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(3),s.Lc(s.ec(116,116,"SCHOOL_VISITS")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(3),s.Lc(s.ec(121,118,"STUDY_PER_TIME")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(7),s.Lc(s.ec(130,120,"COURSE")),s.zb(4),s.Lc(s.ec(134,122,"ENROLLED_IN")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(3),s.Lc(s.ec(139,124,"COURSE_COMPLETE")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(3),s.Lc(s.ec(144,126,"LESSON_COMPLETE")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(6),s.Lc(s.ec(152,128,"QUIZES")),s.zb(4),s.Lc(s.ec(156,130,"QUIZ_TAKEN")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(3),s.Lc(s.ec(161,132,"TOTAL_ATTEMPTS")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(3),s.Lc(s.ec(166,134,"ANSWERED_QS")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(3),s.Lc(s.ec(171,136,"AVG_QUIZ_SCORE")),s.zb(2),s.kc("ngIf",e.studentstats),s.zb(5),s.Lc(s.ec(178,138,"SCHOOL_WEEKLY_VISITS")),s.zb(3),s.Lc(s.ec(181,140,"SCHOOL_WEEKLY_VISITS_DESCRIPTION")),s.zb(6),s.Lc(s.ec(187,142,"STUDY_DURATION")),s.zb(3),s.Lc(s.ec(190,144,"STUDY_DURATION_DESCRIPTION")),s.zb(7),s.Lc(s.ec(197,146,"QUIZZES_SUMMARY")),s.zb(3),s.Lc(s.ec(200,148,"QUIZZES_SUMMARY_DESCRIPTION")),s.zb(5),s.kc("ngIf",e.is_quiz),s.zb(1),s.kc("ngForOf",e.quizzestitle),s.zb(1),s.kc("ngIf",e.fabtabsStatus))},directives:[b.a,f.m,f.k,ct,M.a,f.l,p.r,p.j,p.f,p.a,p.i,p.e,z.f,h.a],pipes:[f.g,c.c,bt.a,f.t,f.e],styles:['.editBannerButtonCont[_ngcontent-%COMP%]{position:absolute;margin:10px}.editBannerButtonCont[_ngcontent-%COMP%], .editProfilePicCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-clip:padding-box;background-color:#000;display:inline-block;padding:5px;box-shadow:0 0 6px rgba(0,0,0,.6);border:1px solid #fff;border-radius:3px}.formCard[_ngcontent-%COMP%]{overflow:inherit}.datepickerInput[_ngcontent-%COMP%]{margin-left:3rem;width:92%;width:calc(100% - 3rem)}.datepickerInputLabel[_ngcontent-%COMP%]{transform:translateY(-14px) scale(.8);transform-origin:0 0}.invalid-feedback[_ngcontent-%COMP%]{margin-left:3rem}.vm[_ngcontent-%COMP%]{font-size:12px}.disable_selection[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}.avatar_placeholder[_ngcontent-%COMP%], .profilePicImg[_ngcontent-%COMP%]{width:100px;height:100px}.avatar_placeholder[_ngcontent-%COMP%]{background:#686f7a;font-size:15px;display:inline-block;border:1px solid #fff;color:#fff}.avatar_placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;position:absolute;top:38%;left:0;right:0}.va-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:grid}@media only screen and (max-width:600px){.avatar_placeholder[_ngcontent-%COMP%], .profilePicImg[_ngcontent-%COMP%]{width:60px;height:60px}#profile-page-header[_ngcontent-%COMP%]{background:#f3f3f3}.input-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{display:none}.input-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%] ~ input[_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%], .invalid-feedback[_ngcontent-%COMP%]{margin-left:0}.input-field[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%] ~ input[_ngcontent-%COMP%]{width:100%}}.profileBannerImg[_ngcontent-%COMP%]{min-height:200px}@media only screen and (max-width:992px){.editProfilePicCont.disable_selection[_ngcontent-%COMP%]{opacity:.3}.editProfilePicCont[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:60px;background:#fff;color:#000!important;padding:0}}.selectBox[_ngcontent-%COMP%]{margin-left:3rem}@media only screen and (max-width:600px){.selectBox[_ngcontent-%COMP%], .selectBoxLabel[_ngcontent-%COMP%]{margin-left:0}}.br-1[_ngcontent-%COMP%]{border-radius:1%}.chart-container[_ngcontent-%COMP%]{position:relative;width:auto;display:block;height:700px}.top-50[_ngcontent-%COMP%]{top:-50px}@media only screen and (max-width:1366px){.top-50[_ngcontent-%COMP%]{top:-30px}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:25px;height:25px;margin-top:-13px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#f44336;animation:spinner .8s linear infinite}@media only screen and (max-width:600px){.prof_header.row[_ngcontent-%COMP%]{display:block}}']}),t})();function ue(t,e){1&t&&s.Mb(0,"div",34)}function me(t,e){1&t&&(s.Rb(0,"p"),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"EMAIL_VERIFICATION_NOTE")))}function ge(t,e){if(1&t&&(s.Rb(0,"div",35),s.Mb(1,"app-email-verification",36),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("email",t.userProfile.email)("verificationStatus",t.userProfile.login_enabled)("subInfo",t.userProfile.subInfo)("userProfile",t.userProfile)}}function fe(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",37),s.Yb("click",(function(){return s.yc(t),s.cc().enableEditing()})),s.Rb(1,"i",38),s.Kc(2,"mode_edit"),s.Qb(),s.Qb()}if(2&t){const t=s.cc();s.kc("disabled",t.editEnabled)}}function Ie(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",39),s.Yb("click",(function(){return s.yc(t),s.cc().cancelEditing()})),s.Rb(1,"i",38),s.Kc(2,"close"),s.Qb(),s.Qb()}}function ve(t,e){1&t&&(s.Rb(0,"div"),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_USERNAME_REQUIRED")))}function Re(t,e){if(1&t&&(s.Rb(0,"div",40),s.Ic(1,ve,3,3,"div",6),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("ngIf",t.f.username.errors.required)}}function Se(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_EMAIL_REQUIRED")))}function _e(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_MUST_VALID_EMAIL")))}function Ce(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_WRONG_EMAIL_PATTERN")))}function ze(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc("",s.ec(2,1,"EMAIL_ADDRESS_ALREADY_IN_USE"),"}"))}function Pe(t,e){if(1&t&&(s.Rb(0,"div",41),s.Ic(1,Se,3,3,"p",42),s.Ic(2,_e,3,3,"p",42),s.Ic(3,Ce,3,3,"p",42),s.Ic(4,ze,3,3,"p",42),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("ngIf",t.f.email.errors.required),s.zb(1),s.kc("ngIf",t.f.email.errors.email),s.zb(1),s.kc("ngIf",t.f.email.errors.pattern),s.zb(1),s.kc("ngIf",t.f.email.errors.emailTaken)}}function ye(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc("",s.ec(2,1,"VALIDATION_CURRENT_PASSWORD_REQUIRED")," "))}function xe(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_WRONG_PASSWORD")))}function Me(t,e){if(1&t&&(s.Rb(0,"div",40),s.Ic(1,ye,3,3,"p",42),s.Ic(2,xe,3,3,"p",42),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("ngIf",t.f.old_password.errors.required),s.zb(1),s.kc("ngIf",t.f.old_password.errors.wrongPassword)}}function we(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"VALIDATION_PASSWORD_REQUIRED")))}function Qe(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc("",s.ec(2,1,"VALIDATION_CHARACTERS_COUNT")," "))}function Ae(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc(" ",s.ec(2,1,"VALIDATION_AT_LEAST_ONE_NUMBER"),""))}function Oe(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc("",s.ec(2,1,"VALIDATION_NO_EMPTY_SPACES")," "))}function ke(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc(" ",s.ec(2,1,"VALIDATION_AT_LEAST_ONE_UPPERCASE"),""))}function Ee(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc(" ",s.ec(2,1,"VALIDATION_AT_LEAST_ONE_LOWERCASE"),""))}function Te(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc(" ",s.ec(2,1,"VALIDATION_LATIN_CHARACTERS_ONLY"),""))}function Le(t,e){if(1&t&&(s.Rb(0,"div",41),s.Ic(1,we,3,3,"p",42),s.Ic(2,Qe,3,3,"p",42),s.Ic(3,Ae,3,3,"p",42),s.Ic(4,Oe,3,3,"p",42),s.Ic(5,ke,3,3,"p",42),s.Ic(6,Ee,3,3,"p",42),s.Ic(7,Te,3,3,"p",42),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("ngIf",t.f.password.errors.required),s.zb(1),s.kc("ngIf",t.f.password.errors.minlength),s.zb(1),s.kc("ngIf",t.f.password.errors.hasNumber),s.zb(1),s.kc("ngIf",t.f.password.errors.whitespace),s.zb(1),s.kc("ngIf",t.f.password.errors.hasCapitalCase),s.zb(1),s.kc("ngIf",t.f.password.errors.hasSmallCase),s.zb(1),s.kc("ngIf",t.f.password.errors.pattern)}}function Ne(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc(" ",s.ec(2,1,"VALIDATION_CONFIRM_PASSWORD_REQUIRED"),""))}function Ke(t,e){1&t&&(s.Rb(0,"p",43),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Mc(" ",s.ec(2,1,"VALIDATION_PASSWORD_MUST_MATCH"),""))}function De(t,e){if(1&t&&(s.Rb(0,"div",41),s.Ic(1,Ne,3,3,"p",42),s.Ic(2,Ke,3,3,"p",42),s.Qb()),2&t){const t=s.cc();s.zb(1),s.kc("ngIf",t.f.password_confirmation.errors.required),s.zb(1),s.kc("ngIf",t.f.password_confirmation.errors.mustMatch)}}function Ue(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",37),s.Yb("click",(function(){return s.yc(t),s.cc().enableEditing()})),s.Rb(1,"i",38),s.Kc(2,"mode_edit"),s.Qb(),s.Qb()}if(2&t){const t=s.cc();s.kc("disabled",t.editEnabled)}}function Be(t,e){if(1&t){const t=s.Sb();s.Rb(0,"button",39),s.Yb("click",(function(){return s.yc(t),s.cc().cancelEditing()})),s.Rb(1,"i",38),s.Kc(2,"close"),s.Qb(),s.Qb()}}const Ve=function(t){return{"is-invalid":t}};let Fe=(()=>{class t{constructor(t,e,i,n,r){this.apiService=t,this.formBuilder=e,this.userService=i,this.bcService=n,this.translate=r,this.editEnabled=!1,this.accountSubmitChanges=!1,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",this.preloader=!1,this.breadcrumb=[{label:"NAV_HOME",url:"/home"},{label:"NAV_ACCOUNT",url:"/user/account"}],this.showPassword=!1,this.emailChanged=!1,this.passwordChanged=!1}ngOnInit(){const t=new r.a({url:"/account",name:"NAV_ACCOUNT"});this.bcService.resetPush(t),this.bcService.breadcrumbAsObservable.subscribe(t=>this.breadCrumbs=t),this.bcService.setTitle(this.translate.instant("NAV_ACCOUNT")),this.userProfile=new J.a(""),this.accountForm=this.formBuilder.group({id:["",p.p.required],username:[{value:"",disabled:!0},[p.p.required]],email:["",p.p.compose([p.p.required,p.p.email]),this.validateEmailNotTaken.bind(this)],password:["",p.p.compose([tt.a.patternValidator(/\d/,{hasNumber:!0}),tt.a.patternValidator(/[A-Z]/,{hasCapitalCase:!0}),tt.a.patternValidator(/[a-z]/,{hasSmallCase:!0}),this.noWhitespaceValidator.bind(this),p.p.pattern("[a-zA-Z0-9!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]*"),p.p.minLength(6)])],password_confirmation:["",p.p.minLength(6)],old_password:["",p.p.compose([p.p.required]),this.validateCurrentPassword.bind(this)]},{validator:t=>{const e=t.controls.password,i=t.controls.password_confirmation;console.log(" MustMatch ",e,i),i.errors&&!i.errors.mustMatch||i.setErrors(e.value!==i.value?{mustMatch:!0}:null)}}),this.accountForm.get("old_password").setValue(""),this.apiService.getUserProfileinfo().subscribe(t=>{this.userProfile=t,this.accountForm.patchValue(this.userProfile),this.accountForm.get("old_password").setValue(""),this.accountForm.disable()}),this.accountForm.get("email").valueChanges.subscribe(t=>{console.log(" ------ "),console.log("email changes val ",t),console.log("email changes this.userProfile ",this.userProfile),this.userProfile&&(console.log("email changes this userProfile email ",this.userProfile.email),this.emailChanged=this.userProfile.email!==t)}),this.accountForm.get("password").valueChanges.subscribe(t=>{console.log(" ------ password "),console.log("password changes val ",t),console.log("password this.userProfile.password "),""!==t?(console.log("password inside "),this.passwordChanged=!0):this.passwordChanged=!1})}get f(){return this.accountForm.controls}enableEditing(){this.editEnabled=!0,this.accountForm.enable(),this.accountForm.get("username").disable()}noWhitespaceValidator(t){return console.log(" (control.value ",t.value),/\s/.test(t.value)?{whitespace:!0}:null}accountFormSubmit(){if(this.accountForm.disable(),this.editEnabled=!1,this.showPassword=!1,this.accountSubmitChanges=!0,this.accountForm.invalid)return void console.log(" error ",this.accountForm);let t="both",e=this.translate.instant("APPLY_CHANGES_DESC");this.passwordChanged&&this.emailChanged||this.emailChanged?t="both":(t="password",e=this.translate.instant("CHANGE_PASSWORD_DESC")),C.a.fire({title:this.translate.instant("both"===t?"APPLY_CHANGES":"CHANGE_PASSWORD"),text:e,icon:"warning",showCancelButton:!0,confirmButtonText:this.translate.instant("OK"),cancelButtonText:this.translate.instant("NO"),animation:!1,reverseButtons:!0}).then(t=>{console.log(" then ",t),t.value&&(this.preloader=!0,console.log("  this.accountForm.value ",this.accountForm.value),this.userService.updateAccount(this.accountForm.value).subscribe(t=>{this.preloader=!1,console.log(" updateAccount  res "),console.log(t),"success"===t.api_status?(console.log(" redirecting to logout  "),this.apiService.redirectTo("logout"),this.apiService.logout(),this.apiService.redirectTo("login")):"password_not_matched"===t.status_code?alert("Error "+t.message):"wrong_password"===t.status_code?C.a.fire({title:"Error!",text:"Wrong password.",icon:"error",animation:!1}).then(t=>{this.apiService.redirectTo("logout"),this.apiService.logout(),this.apiService.redirectTo("login")}):"validation_failed"===t.status_code&&C.a.fire({title:"Error!",text:t.message,icon:"error",animation:!1})},t=>{console.error(" ------ err ------ "),console.error(t),alert("Error Handling Request ")}))})}validateEmailNotTaken(t){return this.apiService.checkUserEmailNotTaken(t.value).pipe(Object(y.a)(t=>t?null:{emailTaken:!0}))}validateCurrentPassword(t){return this.apiService.validateCurrentPassword(t.value).pipe(Object(y.a)(t=>t?null:{emailTaken:!0}))}cancelEditing(){this.accountForm.patchValue(this.userProfile),this.accountForm.disable(),this.editEnabled=!1,this.accountSubmitChanges=!1}ngOnDestroy(){}showPasswordToggle(){this.showPassword=this.enableEditing?!this.showPassword:this.showPassword}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(a.a),s.Lb(p.b),s.Lb(x),s.Lb(o.a),s.Lb(c.d))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-account"]],decls:85,vars:55,consts:[["title","NAV_ACCOUNT",3,"breadcrumb"],[1,"pb-2"],[1,"container"],[1,"row"],["style","padding:25px;",4,"ngIf"],[1,"col","m8","s12"],[4,"ngIf"],[1,"col","m4","s12"],["class","right-align col s12 mt-15x",4,"ngIf"],[3,"status"],[1,"col","l8","m12","s12","offset-1","pl-2","pr-2","pt-2","pb-2"],[3,"formGroup"],[1,"form-group"],[1,"col","s12","right","right-align"],[1,"btn-floating","waves-effect","waves-light","cyan","mr-2","ml-2",3,"disabled","click"],[1,"material-icons"],["class","btn-floating waves-effect waves-light red mr-2 ml-2",3,"disabled","click",4,"ngIf"],["class","btn-floating waves-effect waves-light red mr-2 ml-2",3,"click",4,"ngIf"],[1,"input-field","col","s12"],[1,"material-icons","prefix","hide-on-med-and-down"],["id","username","type","text","formControlName","username",3,"ngClass"],["for","username"],["class","invalid-feedback red-text",4,"ngIf"],["id","email","type","text","formControlName","email",3,"ngClass"],["for","email"],["class","invalid-feedback red-text center",4,"ngIf"],["autocomplete","off","id","old_password","formControlName","old_password",1,"form-control","mb-5x",3,"type","ngClass"],[1,"showPassword",3,"click"],["for","old_password"],["id","password","type","password","formControlName","password",1,"form-control","mb-5x",3,"ngClass"],["for","password"],["id","password_confirmation","type","password","formControlName","password_confirmation",1,"form-control","mb-5x",3,"ngClass"],["for","password_confirmation"],[3,"menuType"],[2,"padding","25px"],[1,"right-align","col","s12","mt-15x"],[3,"email","verificationStatus","subInfo","userProfile"],[1,"btn-floating","waves-effect","waves-light","red","mr-2","ml-2",3,"disabled","click"],[1,"large","material-icons"],[1,"btn-floating","waves-effect","waves-light","red","mr-2","ml-2",3,"click"],[1,"invalid-feedback","red-text"],[1,"invalid-feedback","red-text","center"],["class","margin vm",4,"ngIf"],[1,"margin","vm"]],template:function(t,e){1&t&&(s.Mb(0,"app-breadcrumbs",0),s.Mb(1,"div",1),s.Rb(2,"div",2),s.Rb(3,"div",3),s.Ic(4,ue,1,0,"div",4),s.Qb(),s.Rb(5,"div",3),s.Rb(6,"div",5),s.Ic(7,me,3,3,"p",6),s.Qb(),s.Rb(8,"div",7),s.Ic(9,ge,2,4,"div",8),s.dc(10,"json"),s.Qb(),s.Qb(),s.Qb(),s.Rb(11,"div",3),s.Mb(12,"app-preloader",9),s.Rb(13,"div",10),s.Rb(14,"form",11),s.Rb(15,"div",3),s.Rb(16,"div",12),s.Rb(17,"div",13),s.Rb(18,"button",14),s.Yb("click",(function(){return e.accountFormSubmit()})),s.Rb(19,"i",15),s.Kc(20,"done"),s.Qb(),s.Qb(),s.Ic(21,fe,3,1,"button",16),s.Ic(22,Ie,3,0,"button",17),s.Qb(),s.Qb(),s.Qb(),s.Rb(23,"div",3),s.Rb(24,"div",12),s.Rb(25,"div",18),s.Rb(26,"i",19),s.Kc(27,"person_outline"),s.Qb(),s.Mb(28,"input",20),s.Rb(29,"label",21),s.Kc(30),s.dc(31,"translate"),s.Qb(),s.Ic(32,Re,2,1,"div",22),s.Qb(),s.Qb(),s.Qb(),s.Rb(33,"div",3),s.Rb(34,"div",12),s.Rb(35,"div",18),s.Rb(36,"i",19),s.Kc(37,"email"),s.Qb(),s.Mb(38,"input",23),s.Rb(39,"label",24),s.Kc(40),s.dc(41,"translate"),s.Qb(),s.Ic(42,Pe,5,4,"div",25),s.Qb(),s.Qb(),s.Qb(),s.Rb(43,"div",3),s.Rb(44,"div",12),s.Rb(45,"div",18),s.Rb(46,"i",19),s.Kc(47,"lock_outline"),s.Qb(),s.Mb(48,"input",26),s.Rb(49,"span",27),s.Yb("click",(function(){return e.showPasswordToggle()})),s.Rb(50,"i",15),s.Kc(51,"remove_red_eye"),s.Qb(),s.Qb(),s.Rb(52,"label",28),s.Kc(53),s.dc(54,"translate"),s.Qb(),s.Ic(55,Me,3,2,"div",22),s.Qb(),s.Qb(),s.Qb(),s.Rb(56,"div",3),s.Rb(57,"div",12),s.Rb(58,"div",18),s.Rb(59,"i",19),s.Kc(60,"lock_outline"),s.Qb(),s.Mb(61,"input",29),s.Rb(62,"label",30),s.Kc(63),s.dc(64,"translate"),s.Qb(),s.Ic(65,Le,8,7,"div",25),s.Qb(),s.Qb(),s.Qb(),s.Rb(66,"div",3),s.Rb(67,"div",12),s.Rb(68,"div",18),s.Rb(69,"i",19),s.Kc(70,"lock_outline"),s.Qb(),s.Mb(71,"input",31),s.Rb(72,"label",32),s.Kc(73),s.dc(74,"translate"),s.Qb(),s.Ic(75,De,3,2,"div",25),s.Qb(),s.Qb(),s.Qb(),s.Rb(76,"div",3),s.Rb(77,"div",12),s.Rb(78,"div",13),s.Rb(79,"button",14),s.Yb("click",(function(){return e.accountFormSubmit()})),s.Rb(80,"i",15),s.Kc(81,"done"),s.Qb(),s.Qb(),s.Ic(82,Ue,3,1,"button",16),s.Ic(83,Be,3,0,"button",17),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Mb(84,"app-fabtabs",33)),2&t&&(s.kc("breadcrumb",e.breadcrumb),s.zb(4),s.kc("ngIf",0==(null==e.userProfile?null:e.userProfile.login_enabled)),s.zb(3),s.kc("ngIf",0==(null==e.userProfile?null:e.userProfile.login_enabled)),s.zb(2),s.kc("ngIf","{}"!=s.ec(10,33,e.userProfile)),s.zb(3),s.kc("status",e.preloader),s.zb(2),s.kc("formGroup",e.accountForm),s.zb(4),s.kc("disabled",!(e.editEnabled&&e.accountForm.valid&&(e.f.email.dirty||e.f.password.dirty||e.f.password_confirmation.dirty||e.f.old_password.dirty)&&(e.emailChanged||e.passwordChanged))),s.zb(3),s.kc("ngIf",!e.editEnabled),s.zb(1),s.kc("ngIf",e.editEnabled),s.zb(6),s.kc("ngClass",s.rc(45,Ve,e.accountSubmitChanges&&e.f.username.errors)),s.zb(1),s.Db("active",e.accountForm.get("username").value.length),s.zb(1),s.Lc(s.ec(31,35,"ACCOUNT_USERNAME")),s.zb(2),s.kc("ngIf",e.accountSubmitChanges&&e.f.username.errors),s.zb(6),s.kc("ngClass",s.rc(47,Ve,(e.f.email.dirty||e.f.email.touched)&&e.f.email.errors)),s.zb(1),s.Db("active",e.accountForm.get("email").value.length),s.zb(1),s.Lc(s.ec(41,37,"ACCOUNT_EMAIL")),s.zb(2),s.kc("ngIf",(e.f.email.dirty||e.accountSubmitChanges)&&e.f.email.errors),s.zb(6),s.kc("type",e.showPassword?"text":"password")("ngClass",s.rc(49,Ve,(e.f.old_password.dirty||e.f.old_password.touched)&&e.f.old_password.errors)),s.zb(5),s.Lc(s.ec(54,39,"ACCOUNT_CURRENT_PASSWORD")),s.zb(2),s.kc("ngIf",(e.f.old_password.dirty||e.accountSubmitChanges||e.editEnabled)&&e.f.old_password.errors),s.zb(6),s.kc("ngClass",s.rc(51,Ve,e.accountSubmitChanges&&e.f.password.errors)),s.zb(2),s.Lc(s.ec(64,41,"ACCOUNT_NEW_PASSWORD")),s.zb(2),s.kc("ngIf",(e.f.password.dirty||e.accountSubmitChanges)&&e.f.password.errors),s.zb(6),s.kc("ngClass",s.rc(53,Ve,e.accountSubmitChanges&&e.f.password_confirmation.errors)),s.zb(2),s.Lc(s.ec(74,43,"ACCOUNT_NEW_PASSWORD_CONFIRMATION")),s.zb(2),s.kc("ngIf",(e.f.password_confirmation.dirty||e.f.password_confirmation.touched||e.accountSubmitChanges)&&e.f.password_confirmation.errors),s.zb(4),s.kc("disabled",!(e.editEnabled&&e.accountForm.valid&&(e.f.email.dirty||e.f.password.dirty||e.f.password_confirmation.dirty||e.f.old_password.dirty)&&(e.emailChanged||e.passwordChanged))),s.zb(3),s.kc("ngIf",!e.editEnabled),s.zb(1),s.kc("ngIf",e.editEnabled),s.zb(1),s.kc("menuType","general"))},directives:[b.a,f.m,M.a,p.r,p.j,p.f,p.a,p.i,p.e,f.k,h.a],pipes:[f.g,c.c],styles:[".invalid-feedback[_ngcontent-%COMP%]{margin-left:3rem}.vm[_ngcontent-%COMP%]{font-size:12px}.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(.label-icon).active{transform:translateY(-14px) scale(.8);transform-origin:0 0}@media only screen and (max-width:992px){form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0!important}.invalid-feedback[_ngcontent-%COMP%]{margin-left:0}}.showPassword[_ngcontent-%COMP%]{position:absolute;right:0;padding-right:.75rem;cursor:pointer}"]}),t})();function He(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"div",18),s.Mb(2,"app-preloader",19),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.kc("status",!t.memberShipInfo)}}function Ye(t,e){if(1&t&&s.Mb(0,"img",20),2&t){const t=s.cc();s.nc("src","",t.url,"/uploads/lms/roles/",t.memberShipInfo.data.role.role_image,"",s.Bc)}}function We(t,e){if(1&t&&(s.Rb(0,"h5",21),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.data||null==t.memberShipInfo.data.role?null:t.memberShipInfo.data.role.title)}}function qe(t,e){1&t&&(s.Rb(0,"h5",21),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"MEMBERSHIP_TRIAL")))}function Ge(t,e){if(1&t&&(s.Rb(0,"p",21),s.Kc(1),s.Qb()),2&t){const t=s.cc();s.zb(1),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.data||null==t.memberShipInfo.data.role?null:t.memberShipInfo.data.role.type)}}function Xe(t,e){1&t&&(s.Rb(0,"p",21),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"MEMBERSHIP_FREE_TRIAL")))}function je(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"div",18),s.Mb(2,"app-preloader",19),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.kc("status",!t.memberShipInfo)}}function Ze(t,e){1&t&&(s.Rb(0,"p"),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t&&(s.zb(1),s.Lc(s.ec(2,1,"SUBSCRIPTION_NOT_ACTIVATED")))}function $e(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",27),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",27),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_UNTIL")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.expires_on)}}function Je(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",27),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",27),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_UNTIL")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.trial_end)}}function ti(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",27),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",27),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_ON")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.expires_on)}}function ei(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",27),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",27),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_ON")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.trial_end)}}function ii(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",27),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"p",27),s.Rb(5,"span"),s.Kc(6),s.Qb(),s.Qb(),s.Qb()),2&t){const t=s.cc(2);s.zb(2),s.Lc(s.ec(3,2,"SUBSCRIPTION_UNTIL")),s.zb(4),s.Lc(null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.expires_on)}}function ni(t,e){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"p",22),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Rb(4,"div",23),s.Rb(5,"i",24),s.Kc(6,"card_membership"),s.Qb(),s.Qb(),s.Rb(7,"div",25),s.Rb(8,"h5",26),s.Kc(9),s.dc(10,"titlecase"),s.Qb(),s.Ic(11,Ze,3,3,"p",9),s.Ic(12,$e,7,4,"div",9),s.Ic(13,Je,7,4,"div",9),s.Ic(14,ti,7,4,"div",9),s.Ic(15,ei,7,4,"div",9),s.Ic(16,ii,7,4,"div",9),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.Nc("",s.ec(3,9,"SUBSCRIPTION_ID"),": ",null==t.memberShipInfo||null==t.memberShipInfo.subInfo?null:t.memberShipInfo.subInfo.code,""),s.zb(7),s.Lc(s.ec(10,11,t.sTitle)),s.zb(2),s.kc("ngIf","new"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","active"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","expired"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial_expired"===(null==t.memberShipInfo?null:t.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","promotion"===(null==t.memberShipInfo?null:t.memberShipInfo.subType))}}let ri=(()=>{class t{constructor(t,e,i){this.userService=t,this.bcService=e,this.translate=i,this.url=S.a.api.url,this.cardClass="",this.subcardClass="",this.sTitle="",this.breadcrumb=[{label:"NAV_HOME",url:"/"},{label:"NAV_MEMBERSHIP",url:"/user/membership"}]}ngOnInit(){const t=new r.a({url:"/membership",name:"NAV_MEMBERSHIP"});this.bcService.resetPush(t),this.bcService.breadcrumbAsObservable.subscribe(t=>this.breadCrumbs=t),this.bcService.setTitle(this.translate.instant("NAV_MEMBERSHIP")),this.userService.getMemberShipInfo().subscribe(t=>{console.log(" getMemberShipInfo response "),console.log(t),"success"===t.api_status&&(this.memberShipInfo=t,"active"===this.memberShipInfo.subType?(this.cardClass="gradient-45deg-light-blue-cyan",this.subcardClass="gradient-45deg-green-teal",this.sTitle=this.translate.instant("MEMBERSHIP_ACTIVE")):"new"===this.memberShipInfo.subType||"trial"===this.memberShipInfo.subType?(this.cardClass="gradient-45deg-amber-amber",this.subcardClass="grey lighten-1",this.sTitle=this.translate.instant("MEMBERSHIP_TRIAL")):"expired"===this.memberShipInfo.subType||"trial_expired"===this.memberShipInfo.subType?(this.cardClass="gradient-45deg-amber-amber",this.subcardClass="gradient-45deg-red-pink",this.sTitle=this.translate.instant("MEMBERSHIP_EXPIRED")):"promotion"===this.memberShipInfo.subType&&(this.cardClass="gradient-45deg-amber-amber",this.subcardClass="grey lighten-1",this.sTitle=this.translate.instant("PROMOTION")))},t=>console.log(t),()=>{console.log(" ------------ getMemberShipInfo")})}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(x),s.Lb(o.a),s.Lb(c.d))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-membership"]],decls:32,vars:23,consts:[["title","NAV_MEMBERSHIP",3,"breadcrumb"],[1,"pt_32x"],[1,"container","w100","no-padding"],[1,"row","no-margin","cmargin_l","cmargin_r"],[1,"col","s12","p-0"],[1,"membershipTitle","no-margin"],[1,"row","cmargin_l","cmargin_r"],[1,"col","m6","l5","xl3","membershipCont","p-0"],[1,"card-content","center","membershipPic"],[4,"ngIf"],["class","width-40 border-round ","alt","",3,"src",4,"ngIf"],["class","white-text lighten-4",4,"ngIf"],["routerLink","/user/subscription",1,"white-text"],[1,"padding-4","col","s12"],["routerLink","/user/subscription",1,"btn","waves-effect","waves-light","gradient-45deg-amber-amber","border-radius-5","width-100"],[1,"col","m6","l7","xl8","descriptionBox","p-0"],[1,"mt_16x",3,"innerHTML"],[3,"menuType"],[1,"preloaderCont"],[3,"status"],["alt","",1,"width-40","border-round",3,"src"],[1,"white-text","lighten-4"],[1,"margin"],[1,"col","s7","m7"],[1,"material-icons","background-round","mt-5"],[1,"col","s5","m5","right-align"],[1,"mb-0","white-text"],[1,"no-margin"]],template:function(t,e){1&t&&(s.Mb(0,"app-breadcrumbs",0),s.Mb(1,"div",1),s.Rb(2,"div",2),s.Rb(3,"div",3),s.Rb(4,"div",4),s.Rb(5,"p",5),s.Kc(6),s.dc(7,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Rb(8,"div",6),s.Rb(9,"div",7),s.Rb(10,"div",4),s.Rb(11,"div"),s.Rb(12,"div",8),s.Ic(13,He,3,1,"div",9),s.Ic(14,Ye,1,2,"img",10),s.Ic(15,We,2,1,"h5",11),s.Ic(16,qe,3,3,"h5",11),s.Ic(17,Ge,2,1,"p",11),s.Ic(18,Xe,3,3,"p",11),s.Qb(),s.Qb(),s.Qb(),s.Rb(19,"div",4),s.Rb(20,"div"),s.Rb(21,"a",12),s.Rb(22,"div",13),s.Ic(23,je,3,1,"div",9),s.Ic(24,ni,17,13,"div",9),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(25,"div",4),s.Rb(26,"button",14),s.Kc(27),s.dc(28,"translate"),s.Qb(),s.Qb(),s.Qb(),s.Rb(29,"div",15),s.Mb(30,"div",16),s.Qb(),s.Qb(),s.Qb(),s.Mb(31,"app-fabtabs",17)),2&t&&(s.kc("breadcrumb",e.breadcrumb),s.zb(6),s.Lc(s.ec(7,19,"MEMBERSHIP_AND_SUBSCRIPTION")),s.zb(5),s.Cb("card gradient-shadow  border-radius-3 animate fadeUp mt_16x mb_16x ",e.cardClass," "),s.zb(2),s.kc("ngIf",!e.memberShipInfo),s.zb(1),s.kc("ngIf",null==e.memberShipInfo||null==e.memberShipInfo.data?null:e.memberShipInfo.data.role),s.zb(1),s.kc("ngIf","trial"!==(null==e.memberShipInfo?null:e.memberShipInfo.subType)&&"new"!==(null==e.memberShipInfo?null:e.memberShipInfo.subType)&&"trial_expired"!==(null==e.memberShipInfo?null:e.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial"===(null==e.memberShipInfo?null:e.memberShipInfo.subType)||"new"===(null==e.memberShipInfo?null:e.memberShipInfo.subType)||"trial_expired"===(null==e.memberShipInfo?null:e.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial"!==(null==e.memberShipInfo?null:e.memberShipInfo.subType)&&"new"!==(null==e.memberShipInfo?null:e.memberShipInfo.subType)&&"trial_expired"!==(null==e.memberShipInfo?null:e.memberShipInfo.subType)),s.zb(1),s.kc("ngIf","trial"===(null==e.memberShipInfo?null:e.memberShipInfo.subType)||"new"===(null==e.memberShipInfo?null:e.memberShipInfo.subType)||"trial_expired"===(null==e.memberShipInfo?null:e.memberShipInfo.subType)),s.zb(2),s.Cb("card gradient-shadow min-height-100 white-text animate fadeRight mt_16x mb_16x ",e.subcardClass,""),s.zb(3),s.kc("ngIf",!e.memberShipInfo),s.zb(1),s.kc("ngIf",e.memberShipInfo),s.zb(3),s.Lc(s.ec(28,21,"SUBSCRIPTION_MANAGE")),s.zb(3),s.kc("innerHTML",null==e.memberShipInfo||null==e.memberShipInfo.data||null==e.memberShipInfo.data.role?null:e.memberShipInfo.data.role.description,s.zc),s.zb(1),s.kc("menuType","general"))},directives:[b.a,f.m,z.f,z.d,h.a,M.a],pipes:[c.c,f.u],styles:[".membershipPic[_ngcontent-%COMP%]{min-width:128px;min-height:128px}.membershipTitle[_ngcontent-%COMP%]{margin-block-end:.5em}@media only screen and (min-width:601px){.descriptionBox[_ngcontent-%COMP%]{padding-left:16px!important}}"]}),t})();var si=i("XNiG"),ai=function(){function t(t){this.el=t,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe((function(){t.displayTable()})):this.displayTable()},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(){var t=this;this.dtInstance=new Promise((function(e,i){Promise.resolve(t.dtOptions).then((function(i){setTimeout((function(){t.dt=$(t.el.nativeElement).DataTable(i),e(t.dt)}))}))}))},t.\u0275fac=function(e){return new(e||t)(s.Lb(s.l))},t.\u0275dir=s.Gb({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),oi=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[f.b]]}),t}();function ci(t,e){if(1&t&&(s.Rb(0,"div",8),s.Rb(1,"div",9),s.Mb(2,"app-preloader",10),s.Qb(),s.Qb()),2&t){const t=s.cc();s.zb(2),s.kc("status",t.preloader)("showMob",!0)}}function li(t,e){1&t&&(s.Rb(0,"div",11),s.Rb(1,"h5"),s.Kc(2),s.dc(3,"translate"),s.Qb(),s.Qb()),2&t&&(s.zb(2),s.Lc(s.ec(3,1,"INVOICE_NO_PAYMENT_FOUND")))}function bi(t,e){if(1&t&&(s.Rb(0,"a",31),s.Rb(1,"i",32),s.Kc(2,"priority_high"),s.Qb(),s.Qb()),2&t){const t=s.cc().$implicit;s.kc("tooltip",t.message)("delay",20)}}const pi=function(t){return["/payinvoice",t]};function hi(t,e){if(1&t&&(s.Rb(0,"a",33),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.Db("green",402===t.status)("light-blue",401===t.status),s.kc("routerLink",s.rc(8,pi,t.access_code)),s.zb(1),s.Lc(s.ec(2,6,"INVOICE_VIEW"))}}const di=function(t){return["/invoice",t]};function ui(t,e){if(1&t&&(s.Rb(0,"a",33),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.Db("green",402===t.status)("light-blue",401===t.status),s.kc("routerLink",s.rc(8,di,t.access_code)),s.zb(1),s.Lc(s.ec(2,6,"INVOICE_VIEW"))}}function mi(t,e){if(1&t&&(s.Rb(0,"a",34),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.kc("routerLink",s.rc(4,pi,t.access_code)),s.zb(1),s.Lc(s.ec(2,2,"INVOICE_PAY"))}}function gi(t,e){if(1&t&&(s.Rb(0,"a",33),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.Db("green",402===t.status)("light-blue",401===t.status),s.kc("routerLink",s.rc(8,pi,t.access_code)),s.zb(1),s.Lc(s.ec(2,6,"INVOICE_VIEW"))}}function fi(t,e){if(1&t&&(s.Rb(0,"a",33),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.Db("green",402===t.status)("light-blue",401===t.status),s.kc("routerLink",s.rc(8,di,t.access_code)),s.zb(1),s.Lc(s.ec(2,6,"INVOICE_VIEW"))}}function Ii(t,e){if(1&t&&(s.Rb(0,"a",34),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.kc("routerLink",s.rc(4,pi,t.access_code)),s.zb(1),s.Lc(s.ec(2,2,"INVOICE_PAY"))}}function vi(t,e){if(1&t&&(s.Rb(0,"a",35),s.Rb(1,"i",32),s.Kc(2,"priority_high"),s.Qb(),s.Qb()),2&t){const t=s.cc().$implicit;s.kc("tooltip",t.message)("delay",20)}}function Ri(t,e){if(1&t&&(s.Rb(0,"a",33),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.Db("green",402===t.status)("light-blue",401===t.status),s.kc("routerLink",s.rc(8,pi,t.access_code)),s.zb(1),s.Lc(s.ec(2,6,"INVOICE_VIEW"))}}function Si(t,e){if(1&t&&(s.Rb(0,"a",33),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.Db("green",402===t.status)("light-blue",401===t.status),s.kc("routerLink",s.rc(8,di,t.access_code)),s.zb(1),s.Lc(s.ec(2,6,"INVOICE_VIEW"))}}function _i(t,e){if(1&t&&(s.Rb(0,"a",34),s.Kc(1),s.dc(2,"translate"),s.Qb()),2&t){const t=s.cc().$implicit;s.kc("routerLink",s.rc(4,pi,t.access_code)),s.zb(1),s.Lc(s.ec(2,2,"INVOICE_PAY"))}}const Ci=function(t){return{"line-through":t}};function zi(t,e){if(1&t){const t=s.Sb();s.Rb(0,"tr",16),s.Rb(1,"td",17),s.Yb("click",(function(e){return s.yc(t),s.cc(2).toggleRow(e.target)})),s.Rb(2,"p",18),s.Rb(3,"span",19),s.Kc(4),s.Qb(),s.Rb(5,"span",20),s.Kc(6),s.dc(7,"currency"),s.Qb(),s.Ic(8,bi,3,2,"a",21),s.Qb(),s.Rb(9,"div",22),s.Ic(10,hi,3,10,"a",23),s.Ic(11,ui,3,10,"a",23),s.Ic(12,mi,3,6,"a",24),s.Qb(),s.Rb(13,"div",25),s.Rb(14,"p",26),s.Rb(15,"strong"),s.Kc(16),s.dc(17,"translate"),s.Qb(),s.Kc(18),s.dc(19,"date"),s.Qb(),s.Rb(20,"p",26),s.Rb(21,"strong"),s.Kc(22),s.dc(23,"translate"),s.Qb(),s.Kc(24),s.dc(25,"date"),s.Qb(),s.Rb(26,"p",26),s.Rb(27,"strong"),s.Kc(28),s.dc(29,"translate"),s.Qb(),s.Kc(30),s.Qb(),s.Rb(31,"p",26),s.Rb(32,"strong"),s.Kc(33),s.dc(34,"translate"),s.Qb(),s.Kc(35),s.dc(36,"currency"),s.Qb(),s.Rb(37,"p",27),s.Rb(38,"strong"),s.Kc(39),s.dc(40,"translate"),s.Qb(),s.Kc(41),s.dc(42,"translate"),s.Qb(),s.Rb(43,"p",27),s.Ic(44,gi,3,10,"a",23),s.Ic(45,fi,3,10,"a",23),s.Ic(46,Ii,3,6,"a",24),s.Qb(),s.Qb(),s.Qb(),s.Rb(47,"td",14),s.Kc(48),s.dc(49,"date"),s.Qb(),s.Rb(50,"td",14),s.Kc(51),s.dc(52,"date"),s.Qb(),s.Rb(53,"td",14),s.Kc(54),s.Qb(),s.Rb(55,"td",14),s.Kc(56),s.dc(57,"currency"),s.Qb(),s.Rb(58,"td",28),s.Kc(59),s.dc(60,"translate"),s.Ic(61,vi,3,2,"a",29),s.Qb(),s.Rb(62,"td",30),s.Ic(63,Ri,3,10,"a",23),s.Ic(64,Si,3,10,"a",23),s.Ic(65,_i,3,6,"a",24),s.Qb(),s.Qb()}if(2&t){const t=e.$implicit;s.kc("ngClass",s.rc(71,Ci,404===t.status)),s.zb(4),s.Lc(t.code),s.zb(2),s.Nc("",s.hc(7,30,t.total,"\u0e3f",!0,"1.0-0"),"(",t.invoice_plan_name,")"),s.zb(2),s.kc("ngIf",399===t.status),s.zb(2),s.kc("ngIf",401===t.status),s.zb(1),s.kc("ngIf",402===t.status),s.zb(1),s.kc("ngIf",402!==t.status&&401!==t.status),s.zb(4),s.Mc("",s.ec(17,35,"INVOICE_CREATED_ON")," "),s.zb(2),s.Lc(s.fc(19,37,t.created_at,"dd LLL yyyy")),s.zb(4),s.Mc("",s.ec(23,40,"INVOICE_PAID_ON")," "),s.zb(2),s.Lc(s.fc(25,42,t.paid_date,"dd LLL yyyy")),s.zb(4),s.Mc("",s.ec(29,45,"INVOICE_SUBSCRIPTION_PLAN")," "),s.zb(2),s.Lc(t.invoice_plan_name),s.zb(3),s.Mc("",s.ec(34,47,"INVOICE_PRICE")," "),s.zb(2),s.Lc(s.hc(36,49,t.total,"\u0e3f",!0,"1.0-0")),s.zb(4),s.Mc("",s.ec(40,54,"INVOICE_STATUS")," "),s.zb(2),s.Lc(s.ec(42,56,t.status_label_translate)),s.zb(3),s.kc("ngIf",401===t.status),s.zb(1),s.kc("ngIf",402===t.status),s.zb(1),s.kc("ngIf",402!==t.status&&401!==t.status),s.zb(2),s.Lc(s.fc(49,58,t.created_at,"dd LLL yyyy")),s.zb(3),s.Lc(s.fc(52,61,t.paid_date,"dd LLL yyyy")),s.zb(3),s.Lc(t.invoice_plan_name),s.zb(2),s.Lc(s.hc(57,64,t.total,"\u0e3f",!0,"1.0-0")),s.zb(3),s.Mc(" ",s.ec(60,69,t.status_label_translate)," "),s.zb(2),s.kc("ngIf",399===t.status),s.zb(2),s.kc("ngIf",401===t.status),s.zb(1),s.kc("ngIf",402===t.status),s.zb(1),s.kc("ngIf",402!==t.status&&401!==t.status)}}function Pi(t,e){if(1&t&&(s.Rb(0,"table",12),s.Rb(1,"thead"),s.Rb(2,"tr"),s.Rb(3,"th",13),s.Kc(4),s.dc(5,"translate"),s.Qb(),s.Rb(6,"th",14),s.Kc(7),s.dc(8,"translate"),s.Qb(),s.Rb(9,"th",14),s.Kc(10),s.dc(11,"translate"),s.Qb(),s.Rb(12,"th",14),s.Kc(13),s.dc(14,"translate"),s.Qb(),s.Rb(15,"th",14),s.Kc(16),s.dc(17,"translate"),s.Qb(),s.Rb(18,"th",14),s.Kc(19),s.dc(20,"translate"),s.Qb(),s.Mb(21,"th",14),s.Qb(),s.Qb(),s.Rb(22,"tbody"),s.Ic(23,zi,66,73,"tr",15),s.Qb(),s.Qb()),2&t){const t=s.cc();s.kc("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),s.zb(4),s.Lc(s.ec(5,9,"INVOICE_ID")),s.zb(3),s.Lc(s.ec(8,11,"INVOICE_CREATED_ON")),s.zb(3),s.Lc(s.ec(11,13,"INVOICE_PAID_ON")),s.zb(3),s.Lc(s.ec(14,15,"INVOICE_SUBSCRIPTION_PLAN")),s.zb(3),s.Lc(s.ec(17,17,"INVOICE_PRICE")),s.zb(3),s.Lc(s.ec(20,19,"INVOICE_STATUS")),s.zb(4),s.kc("ngForOf",t.invoices)}}const yi=[{path:"account",component:Fe},{path:"profile",component:de},{path:"membership",component:ri},{path:"subscription",component:j},{path:"settings",component:u},{path:"payments",component:(()=>{class t{constructor(t,e,i,n,r){this.userService=t,this.bcService=e,this.translate=i,this.apiService=n,this.router=r,this.invoices=[],this.breadcrumb=[{label:"NAV_HOME",url:"/home"},{label:"NAV_PAYMENTS",url:"/user/payments"}],this.preloader=!0,this.dtOptions={searching:!1,lengthChange:!1,pageLength:5,order:[[1,"asc"],[2,"asc"]]},this.dtOptions2={},this.dtTrigger=new si.a}ngOnInit(){const t=new r.a({url:"/user/payments",name:"NAV_PAYMENTS"});this.bcService.resetPush(t),this.bcService.breadcrumbAsObservable.subscribe(t=>this.breadCrumbs=t),this.bcService.setTitle(this.translate.instant("NAV_PAYMENTS")),this.apiService.userProfileOb.subscribe(t=>{t&&"student"!==t.type?this.router.navigateByUrl("user/membership"):t&&"student"===t.type&&this.getAllInvoices()})}getAllInvoices(){this.userService.getAllInvoices().subscribe(t=>{this.preloader=!1,null!==t.data&&t.data.length>0&&(this.invoices=t.data,this.apiData=t,this.preloader=!1,this.dtTrigger.next())})}toggleRow(t){t.classList.contains("invTitle")?t=t.parentNode:t.classList.contains("titlePart")&&(t=t.parentNode.parentNode),t.children[2]&&t.children[2].classList.contains("rowDetail")&&(t.classList.toggle("expand"),t.children[2].classList.toggle("hide"))}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(x),s.Lb(o.a),s.Lb(c.d),s.Lb(a.a),s.Lb(z.c))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-payments"]],decls:8,vars:5,consts:[["title","NAV_PAYMENTS",3,"breadcrumb"],[1,"pt_32x"],["class","row",4,"ngIf"],[1,"container","w100","no-padding"],["class","center cmargin_l cmargin_r",4,"ngIf"],[1,"cmargin_l","cmargin_r"],["datatable","","class","row-border hover tcollapse ",3,"dtOptions","dtTrigger",4,"ngIf"],[3,"menuType"],[1,"row"],[1,"preloaderCont","vertical-align-center","col","s12"],[3,"status","showMob"],[1,"center","cmargin_l","cmargin_r"],["datatable","",1,"row-border","hover","tcollapse",3,"dtOptions","dtTrigger"],[1,""],[1,"not-on-mobile"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"click"],[1,"no-margin","invTitle","relative"],[1,"invCode","titlePart"],[1,"invSubtitle","titlePart"],["class","btn-floating mb-1 waves-effect waves-light declinedIcon hideDesktop","mz-button","","mz-tooltip","",3,"tooltip","delay",4,"ngIf"],[1,"fxbtn","right-align"],["class","btn waves-effect waves-light",3,"routerLink","green","light-blue",4,"ngIf"],["class","btn waves-effect waves-light orange",3,"routerLink",4,"ngIf"],[1,"hide","rowDetail","only-on-mobile"],[1,"margin","bb-1-grey"],[1,"margin"],[1,"not-on-mobile","capitalize"],["class","btn-floating mb-1 waves-effect waves-light declinedIcon","mz-button","","mz-tooltip","",3,"tooltip","delay",4,"ngIf"],[1,"not-on-mobile","center"],["mz-button","","mz-tooltip","",1,"btn-floating","mb-1","waves-effect","waves-light","declinedIcon","hideDesktop",3,"tooltip","delay"],[1,"material-icons"],[1,"btn","waves-effect","waves-light",3,"routerLink"],[1,"btn","waves-effect","waves-light","orange",3,"routerLink"],["mz-button","","mz-tooltip","",1,"btn-floating","mb-1","waves-effect","waves-light","declinedIcon",3,"tooltip","delay"]],template:function(t,e){1&t&&(s.Mb(0,"app-breadcrumbs",0),s.Mb(1,"div",1),s.Ic(2,ci,3,2,"div",2),s.Rb(3,"div",3),s.Ic(4,li,4,3,"div",4),s.Rb(5,"div",5),s.Ic(6,Pi,24,21,"table",6),s.Qb(),s.Qb(),s.Mb(7,"app-fabtabs",7)),2&t&&(s.kc("breadcrumb",e.breadcrumb),s.zb(2),s.kc("ngIf",e.preloader),s.zb(2),s.kc("ngIf",!e.preloader&&!e.invoices.length),s.zb(2),s.kc("ngIf",!e.preloader&&e.invoices.length),s.zb(1),s.kc("menuType","general"))},directives:[b.a,f.m,h.a,M.a,ai,f.l,f.k,z.f],pipes:[c.c,f.c,f.e],styles:['td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:0!important;height:48px;font-size:1rem!important}table[_ngcontent-%COMP%]{width:100%!important}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.rowDetail.only-on-mobile[_ngcontent-%COMP%]{display:none}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.fxbtn[_ngcontent-%COMP%]{display:none}.invTitle[_ngcontent-%COMP%]{display:block;width:inherit}@media only screen and (max-width:767px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-bottom:16px!important;padding-top:16px!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.fxbtn[_ngcontent-%COMP%]{width:40%;vertical-align:text-bottom}.fxbtn[_ngcontent-%COMP%], .invTitle[_ngcontent-%COMP%]{display:inline-block!important}.invTitle[_ngcontent-%COMP%]{width:60%}.rowDetail.only-on-mobile[_ngcontent-%COMP%]:not(.hide){display:block!important}.not-on-mobile[_ngcontent-%COMP%]{display:none}table.tcollapse[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:first-child:before, table.tcollapse[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:first-child:before{top:9px;left:4px;height:14px;width:14px;display:block;position:absolute;color:#fff;border:2px solid #fff;border-radius:14px;box-shadow:0 0 3px #444;box-sizing:initial;text-align:center;text-indent:0!important;font-family:Courier New,Courier,monospace;line-height:14px;content:"+";background-color:#757575;top:29px}table.tcollapse[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td.expand[_ngcontent-%COMP%]:first-child:before, table.tcollapse[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th.expand[_ngcontent-%COMP%]:first-child:before{content:"-";background-color:#757575}table.tcollapse[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]:first-child{position:relative;padding-left:41px!important}.bb-1-grey[_ngcontent-%COMP%]{border-bottom:1px solid hsla(0,0%,50.2%,.38)}.rowDetail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin-top:16px!important}.invSubtitle[_ngcontent-%COMP%]{font-size:12px;display:block}}@media only screen and (min-width:768px){.hideDesktop[_ngcontent-%COMP%], .invSubtitle[_ngcontent-%COMP%]{display:none}}.declinedIcon[_ngcontent-%COMP%]{background-color:red;width:24px;height:24px;line-height:24px}.declinedIcon[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{font-size:16px!important;line-height:16px}.declinedIcon.hideDesktop[_ngcontent-%COMP%]{position:absolute;right:0;top:0}']}),t})()}];let xi=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[z.g.forChild(yi)],z.g]}),t})(),Mi=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[x],imports:[[n.a,xi,lt,p.g,p.n,m.d,g.b,oi]]}),t})()},lMUY:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n=i("fXoL"),r=i("ofXK"),s=i("tyNb"),a=i("sYmb");const o=function(){return{exact:!0}},c=function(){return["/home"]},l=function(){return["/course"]},b=function(){return["/course/mycourses"]},p=function(){return["/user/subscription"]},h=function(){return["/course/likedcourses"]},d=function(){return["/user/account"]};function u(t,e){1&t&&(n.Rb(0,"div",2),n.Rb(1,"ul"),n.Rb(2,"li",3),n.Rb(3,"a",4),n.Rb(4,"i",5),n.Kc(5,"home"),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"li",3),n.Rb(7,"a",4),n.Rb(8,"i",5),n.Kc(9,"subscriptions"),n.Qb(),n.Qb(),n.Qb(),n.Rb(10,"li",3),n.Rb(11,"a",4),n.Rb(12,"i",5),n.Kc(13,"school"),n.Qb(),n.Qb(),n.Qb(),n.Rb(14,"li",3),n.Rb(15,"a",4),n.Rb(16,"i",5),n.Kc(17,"update"),n.Qb(),n.Qb(),n.Qb(),n.Rb(18,"li",3),n.Rb(19,"a",4),n.Rb(20,"i",5),n.Kc(21,"favorite "),n.Qb(),n.Qb(),n.Qb(),n.Rb(22,"li",3),n.Rb(23,"a",4),n.Rb(24,"i",5),n.Kc(25,"account_circle"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(2),n.kc("routerLinkActiveOptions",n.qc(12,o)),n.zb(1),n.kc("routerLink",n.qc(13,c)),n.zb(3),n.kc("routerLinkActiveOptions",n.qc(14,o)),n.zb(1),n.kc("routerLink",n.qc(15,l)),n.zb(3),n.kc("routerLinkActiveOptions",n.qc(16,o)),n.zb(1),n.kc("routerLink",n.qc(17,b)),n.zb(3),n.kc("routerLinkActiveOptions",n.qc(18,o)),n.zb(1),n.kc("routerLink",n.qc(19,p)),n.zb(3),n.kc("routerLinkActiveOptions",n.qc(20,o)),n.zb(1),n.kc("routerLink",n.qc(21,h)),n.zb(3),n.kc("routerLinkActiveOptions",n.qc(22,o)),n.zb(1),n.kc("routerLink",n.qc(23,d)))}function m(t,e){if(1&t){const t=n.Sb();n.Rb(0,"div",6),n.Rb(1,"ul"),n.Rb(2,"li",7),n.Rb(3,"a"),n.Rb(4,"button",8),n.Yb("click",(function(){return n.yc(t),n.cc().previousLessonClick()})),n.Kc(5),n.dc(6,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Rb(7,"li",7),n.Rb(8,"a"),n.Rb(9,"button",8),n.Yb("click",(function(){return n.yc(t),n.cc().nextLessonClick()})),n.Kc(10),n.dc(11,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=n.cc();n.zb(4),n.kc("disabled",t.previousStatus),n.zb(1),n.Lc(n.ec(6,4,"BTN_PREVIOUS")),n.zb(4),n.kc("disabled",t.nextStatus),n.zb(1),n.Lc(n.ec(11,6,"BTN_NEXT"))}}let g=(()=>{class t{constructor(){this.nextLessonE=new n.n,this.previousLessonE=new n.n}ngOnInit(){}nextLessonClick(){this.nextLessonE.emit()}previousLessonClick(){this.previousLessonE.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["app-fabtabs"]],inputs:{menuType:"menuType",nextStatus:"nextStatus",previousStatus:"previousStatus"},outputs:{nextLessonE:"nextLessonE",previousLessonE:"previousLessonE"},decls:2,vars:2,consts:[["class","fixed-action-btn toolbar direction-top active fabtabs","style","text-align: center;width: 100%;bottom: 0px;left: 0px;overflow: hidden;background-color: #212121;",4,"ngIf"],["class","fixed-action-btn toolbar direction-top active grey lighten-2 fabtabs","style","text-align: center;width: 100%;bottom: 0px;left: 0px;overflow: hidden;",4,"ngIf"],[1,"fixed-action-btn","toolbar","direction-top","active","fabtabs",2,"text-align","center","width","100%","bottom","0px","left","0px","overflow","hidden","background-color","#212121"],["routerLinkActive","active",1,"waves-effect","waves-light",3,"routerLinkActiveOptions"],[2,"opacity","1",3,"routerLink"],[1,"material-icons"],[1,"fixed-action-btn","toolbar","direction-top","active","grey","lighten-2","fabtabs",2,"text-align","center","width","100%","bottom","0px","left","0px","overflow","hidden"],[1,"waves-effect","waves-light","pl-2","pr-2"],[1,"w100","waves-effect","waves-light","btn","border-radius-2","lf-06","red","accent-2","whtie-text",3,"disabled","click"]],template:function(t,e){1&t&&(n.Ic(0,u,26,24,"div",0),n.Ic(1,m,12,8,"div",1)),2&t&&(n.kc("ngIf","general"===e.menuType),n.zb(1),n.kc("ngIf","takeLayout"===e.menuType))},directives:[r.m,s.e,s.f],pipes:[a.c],styles:[".fixed-action-btn.toolbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{color:#ff5252!important}.fixed-action-btn.toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.btn[disabled][_ngcontent-%COMP%]{background-color:#dfdfdf!important}@media only screen and (min-width:1279px){.fixed-action-btn.toolbar[_ngcontent-%COMP%]{display:none}}"]}),t})()}}]);