(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{bRdB:function(t,n,i){"use strict";i.r(n),i.d(n,"NotifComponent",(function(){return O})),i("FpXt");var o=i("tyNb"),c=i("fXoL"),e=i("H+bZ"),a=i("ofXK"),s=i("VTvN"),r=i("sYmb");const d=["notificationCont"];function p(t,n){if(1&t&&(c.Rb(0,"sup",17),c.Kc(1),c.Qb()),2&t){const t=c.cc();c.zb(1),c.Lc(t.unread_count)}}function b(t,n){if(1&t&&(c.Rb(0,"sup",17),c.Kc(1),c.Qb()),2&t){const t=c.cc();c.zb(1),c.Lc(t.unread_count)}}function l(t,n){if(1&t&&(c.Rb(0,"a",21),c.Rb(1,"i",22),c.Kc(2,"import_contacts"),c.Qb(),c.Rb(3,"span"),c.Kc(4),c.Qb(),c.Rb(5,"span",23),c.Rb(6,"strong"),c.Kc(7),c.dc(8,"dateAgo"),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.cc().$implicit;c.mc("routerLink","/course/",t.data.course_id,"/"),c.zb(4),c.Lc(t.data.title),c.zb(3),c.Lc(c.ec(8,3,t.data.publish_date))}}function f(t,n){if(1&t){const t=c.Sb();c.Rb(0,"a",24),c.Yb("click",(function(){c.yc(t);const n=c.cc().$implicit;return c.cc().openModal(n)})),c.Rb(1,"i",25),c.Kc(2,"event"),c.Qb(),c.Rb(3,"span"),c.Kc(4),c.Qb(),c.Rb(5,"span",23),c.Rb(6,"strong"),c.Kc(7),c.dc(8,"dateAgo"),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=c.cc().$implicit;c.zb(4),c.Lc(t.data.title),c.zb(3),c.Lc(c.ec(8,2,t.data.publish_date))}}function g(t,n){if(1&t&&(c.Rb(0,"li",18),c.Ic(1,l,9,5,"a",19),c.Ic(2,f,9,4,"a",20),c.Qb()),2&t){const t=n.$implicit;c.zb(1),c.kc("ngIf",t.data.course_id),c.zb(1),c.kc("ngIf",!t.data.course_id)}}function u(t,n){1&t&&(c.Rb(0,"li"),c.Rb(1,"a",26),c.Rb(2,"span",27),c.Kc(3),c.dc(4,"translate"),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(3),c.Lc(c.ec(4,1,"VIEW_ALL_NOTIFICATIONS")))}function m(t,n){1&t&&(c.Rb(0,"a",29),c.Rb(1,"i",30),c.Kc(2,"sentiment_dissatisfied"),c.Qb(),c.Rb(3,"span"),c.Kc(4),c.dc(5,"translate"),c.Qb(),c.Qb()),2&t&&(c.zb(4),c.Lc(c.ec(5,1,"NO_NEW_NOTIFICATION")))}function h(t,n){if(1&t&&(c.Rb(0,"li",18),c.Ic(1,m,6,3,"a",28),c.Qb()),2&t){const t=c.cc();c.zb(1),c.kc("ngIf",!t.count)}}function w(t,n){if(1&t&&(c.Rb(0,"a",21),c.Rb(1,"i",22),c.Kc(2,"import_contacts"),c.Qb(),c.Rb(3,"span"),c.Kc(4),c.Qb(),c.Rb(5,"span",23),c.Rb(6,"strong"),c.Kc(7),c.dc(8,"dateAgo"),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.cc().$implicit;c.mc("routerLink","/course/",t.data.course_id,"/"),c.zb(4),c.Lc(t.data.title),c.zb(3),c.Lc(c.ec(8,3,t.data.publish_date))}}function x(t,n){if(1&t){const t=c.Sb();c.Rb(0,"a",24),c.Yb("click",(function(){c.yc(t);const n=c.cc().$implicit;return c.cc().openModal(n)})),c.Rb(1,"i",25),c.Kc(2,"event"),c.Qb(),c.Rb(3,"span"),c.Kc(4),c.Qb(),c.Rb(5,"span",23),c.Rb(6,"strong"),c.Kc(7),c.dc(8,"dateAgo"),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=c.cc().$implicit;c.zb(4),c.Lc(t.data.title),c.zb(3),c.Lc(c.ec(8,2,t.data.publish_date))}}function _(t,n){if(1&t&&(c.Rb(0,"li",18),c.Ic(1,w,9,5,"a",19),c.Ic(2,x,9,4,"a",20),c.Qb()),2&t){const t=n.$implicit;c.zb(1),c.kc("ngIf",t.data.course_id),c.zb(1),c.kc("ngIf",!t.data.course_id)}}function k(t,n){1&t&&(c.Rb(0,"li"),c.Rb(1,"a",31),c.Rb(2,"span",27),c.Kc(3),c.dc(4,"translate"),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(3),c.Lc(c.ec(4,1,"VIEW_ALL_NOTI")))}function v(t,n){1&t&&(c.Rb(0,"a",29),c.Rb(1,"i",30),c.Kc(2,"sentiment_dissatisfied"),c.Qb(),c.Rb(3,"span"),c.Kc(4),c.dc(5,"translate"),c.Qb(),c.Qb()),2&t&&(c.zb(4),c.Lc(c.ec(5,1,"NO_NEW_NOTIFICATION")))}function R(t,n){if(1&t&&(c.Rb(0,"li",18),c.Ic(1,v,6,3,"a",28),c.Qb()),2&t){const t=c.cc();c.zb(1),c.kc("ngIf",!t.count)}}const y=function(){return{exact:!0}};let O=(()=>{class t{constructor(t,n){this.renderer=t,this.apiService=n,this.limitFlag=!1,this.count=!1,this.newNotifications=null,this.limit=5,this.n_count=1,this.showNotificationDropdownToggle=!1,this.showMobileNotificationDropdownToggle=!1}onGlobalClick(t){this.notificationCont.nativeElement.contains(t.target)||(this.showMobileNotificationDropdownToggle=!1)}ngOnInit(){this.getNotification()}getNotification(){this.apiService.NotificationOb.subscribe(t=>{console.log("  noti ",t),t&&t.length>0&&(this.awaitingNotifications=t.length,this.limitFlag=!(this.awaitingNotifications<=5),this.unread_count=t[0].count,this.awaitingNotifications>0&&(this.count=!0),this.newNotifications=t,this.newNotifications=t)}),this.apiService.getNotifications().subscribe(t=>{this.apiService.setNotification(t.data)},t=>console.log(t))}markAsRead(){console.log(" mark as read "),this.count=!1,1===this.n_count&&this.apiService.readNotification().subscribe(t=>{console.log(" Readnotifies  ",t)}),this.n_count++}showNotificationDropdown(){this.showNotificationDropdownToggle=!0}showMobileNotificationDropdown(){this.showMobileNotificationDropdownToggle=!0}hideNotificationDropdown(){this.showNotificationDropdownToggle=!1}}return t.\u0275fac=function(n){return new(n||t)(c.Lb(c.E),c.Lb(e.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-notif"]],viewQuery:function(t,n){var i;1&t&&c.Pc(d,!0),2&t&&c.uc(i=c.Zb())&&(n.notificationCont=i.first)},hostBindings:function(t,n){1&t&&c.Yb("mousedown",(function(t){return n.onGlobalClick(t)}),!1,c.wc)},inputs:{noti:"noti"},decls:26,vars:22,consts:[[1,"right","notify_dd",3,"mouseenter","mouseleave"],["notificationCont",""],[1,"notify-r-m","show-on-desktop-only","hide-on-medium-and-down",3,"mouseenter"],["routerLink","notification/all","data-activates","notifications-dropdown",1,"waves-effect","waves-block","waves-light","notify","profile-button","notify-p-l"],[1,"material-icons","1"],["class","count",4,"ngIf"],[1,"notify-r-m","hide-on-large-only","show-on-med-and-down",3,"mouseenter","click"],["data-activates","notifications-dropdown-touch",1,"waves-effect","waves-block","waves-light","notify","profile-button","notify-p-l"],[1,"material-icons","2"],["routerLinkActive","active",1,"notify-r-m","fav-r-m","hide-on-med-and-down","show-on-ipad",3,"routerLinkActiveOptions"],["routerLink","course/likedcourses",1,"waves-effect","waves-block","waves-light","notify","profile-button"],[1,"material-icons"],["id","dtp_notif",1,"dropdown-content"],["class","notify-divider",4,"ngFor","ngForOf"],[4,"ngIf"],["class","notify-divider",4,"ngIf"],["id","notifications-dropdown-touch",1,"dropdown-content"],[1,"count"],[1,"notify-divider"],["class","grey-text text-darken-1 ","fragment","c_notification",3,"routerLink",4,"ngIf"],["class","grey-text text-darken-1",3,"click",4,"ngIf"],["fragment","c_notification",1,"grey-text","text-darken-1",3,"routerLink"],[1,"material-icons","bell","import_contacts",2,"background-color","#1abec5"],["id","ago"],[1,"grey-text","text-darken-1",3,"click"],[1,"material-icons","bell","event",2,"background-color","#ff1576"],["routerLink","/notifications"],[1,"show-more"],["class","grey-text text-darken-1",4,"ngIf"],[1,"grey-text","text-darken-1"],[1,"material-icons","bell","right",2,"color","#f44336"],["routerLink","/notification/all"]],template:function(t,n){1&t&&(c.Rb(0,"ul",0,1),c.Yb("mouseenter",(function(){return n.showNotificationDropdown()}))("mouseleave",(function(){return n.hideNotificationDropdown()})),c.Rb(2,"li",2),c.Yb("mouseenter",(function(){return n.markAsRead()})),c.Rb(3,"a",3),c.Rb(4,"i",4),c.Kc(5,"notifications "),c.Qb(),c.Ic(6,p,2,1,"sup",5),c.Qb(),c.Qb(),c.Rb(7,"li",6),c.Yb("mouseenter",(function(){return n.markAsRead()}))("click",(function(){return n.showMobileNotificationDropdown()})),c.Rb(8,"a",7),c.Rb(9,"i",8),c.Kc(10,"notifications "),c.Qb(),c.Ic(11,b,2,1,"sup",5),c.Qb(),c.Qb(),c.Rb(12,"li",9),c.Rb(13,"a",10),c.Rb(14,"i",11),c.Kc(15,"favorite "),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"ul",12),c.Ic(17,g,3,2,"li",13),c.dc(18,"slice"),c.Ic(19,u,5,3,"li",14),c.Ic(20,h,2,1,"li",15),c.Qb(),c.Rb(21,"ul",16),c.Ic(22,_,3,2,"li",13),c.dc(23,"slice"),c.Ic(24,k,5,3,"li",14),c.Ic(25,R,2,1,"li",15),c.Qb(),c.Qb()),2&t&&(c.zb(6),c.kc("ngIf",n.count&&n.unread_count>0),c.zb(5),c.kc("ngIf",n.count&&n.unread_count>0),c.zb(1),c.kc("routerLinkActiveOptions",c.qc(21,y)),c.zb(4),c.Db("active",n.showNotificationDropdownToggle),c.zb(1),c.kc("ngForOf",c.gc(18,13,n.newNotifications,0,n.limit)),c.zb(2),c.kc("ngIf",n.limitFlag),c.zb(1),c.kc("ngIf",!n.newNotifications),c.zb(1),c.Db("active",n.showMobileNotificationDropdownToggle),c.zb(1),c.kc("ngForOf",c.gc(23,17,n.newNotifications,0,n.limit)),c.zb(2),c.kc("ngIf",n.newNotifications),c.zb(1),c.kc("ngIf",!n.newNotifications))},directives:[o.f,a.m,o.e,a.l],pipes:[a.t,s.a,r.c],styles:["#notifications-dropdownX[_ngcontent-%COMP%]{width:400px!important;left:unset!important}ul#notifications-dropdownX.active[_ngcontent-%COMP%]{white-space:nowrap;opacity:1;left:1412.77px;position:absolute;top:63.9844px;display:block}.notify-p-l[_ngcontent-%COMP%]{padding-left:297px}.notify[_ngcontent-%COMP%]{display:-webkit-box}.count[_ngcontent-%COMP%]{top:1em!important;margin-left:-12px!important;position:absolute;height:20px;font-weight:700;vertical-align:0;background:#5068ef;border-radius:10px;padding:9px 6px 2px}.bell[_ngcontent-%COMP%]{margin-right:10px}.import_contacts[_ngcontent-%COMP%]{font-size:21px;padding:5px 25px 5px 5px}.event[_ngcontent-%COMP%], .import_contacts[_ngcontent-%COMP%]{color:#fff!important;border-radius:100px}.event[_ngcontent-%COMP%]{font-size:22px;padding:5px 26px 5px 5px}.ago[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:10px;margin-top:5px}.notify-divider[_ngcontent-%COMP%]{border-bottom:2px solid #e0e0e0}.notify-r-m[_ngcontent-%COMP%]{right:110px}.show-more[_ngcontent-%COMP%]{color:#9c9999;text-align:center}@media (device-width:768px) and (device-height:1024px) and (orientation:portrait){.show-on-ipad[_ngcontent-%COMP%]{display:block!important}.notify-r-m[_ngcontent-%COMP%]{right:110px;position:absolute}.fav-r-m[_ngcontent-%COMP%]{right:50px!important}}@media only screen and (max-width:992px){.notify-r-m[_ngcontent-%COMP%]{right:50px;position:absolute!important}.notify-p-l[_ngcontent-%COMP%]{padding-left:200px}#notifications-dropdown-touch[_ngcontent-%COMP%]{width:269px!important;overflow-x:hidden!important;left:unset!important;right:0!important}#notifications-dropdown-touch[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:218px!important;margin-left:40px!important}}@media only screen and (max-width:992px) and (orientation:landscape){#notifications-dropdown-touch[_ngcontent-%COMP%]{max-height:230px!important}.chatIcon[_ngcontent-%COMP%]{padding:0 10px 0 5px!important}}@media only screen and (min-device-width:320px) and (max-device-width:568px) and (orientation:landscape){#notifications-dropdown-touch[_ngcontent-%COMP%]{max-height:200px!important}}@media only screen and (min-device-width:320px) and (max-device-width:568px) and (orientation:portrait){#notifications-dropdown-touch[_ngcontent-%COMP%]{max-height:400px!important}}@media (device-width:768px) and (device-height:1024px) and (orientation:portrait){.notify-r-m[_ngcontent-%COMP%]{right:110px;position:absolute}}@media only screen and (min-width:1367px){.show-on-desktop-only[_ngcontent-%COMP%]{display:block!important}}@media only screen and (max-width:1366px){.hide-on-medium-and-down[_ngcontent-%COMP%]{display:none!important}.show-on-med-and-down[_ngcontent-%COMP%]{display:block!important}}@media only screen and (min-width:993px){#dtp_notif[_ngcontent-%COMP%]{width:400px!important;left:unset!important}}#dtp_notif.active[_ngcontent-%COMP%]{white-space:nowrap;opacity:1;top:63.9844px;display:block}ul#notifications-dropdown-touch.active[_ngcontent-%COMP%]{opacity:1;position:absolute;top:56px;display:block}"]}),t})()}}]);